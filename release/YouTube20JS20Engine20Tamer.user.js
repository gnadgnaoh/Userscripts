// ==UserScript==
// @name        YouTube JS Engine Tamer
// @namespace   UserScripts
// @version     0.42.9
// @match       https://www.youtube.com/*
// @match       https://www.youtube-nocookie.com/embed/*
// @match       https://studio.youtube.com/live_chat*
// @license     MIT
// @author      CY Fung
// @icon        https://raw.githubusercontent.com/cyfung1031/userscript-supports/main/icons/yt-engine.png
// @grant       none
// @require     https://cdn.jsdelivr.net/gh/cyfung1031/userscript-supports@c2b707e4977f77792042d4a5015fb188aae4772e/library/nextBrowserTick.min.js
// @run-at      document-start
// @unwrap
// @inject-into page
// @allFrames   true
// @exclude     /^https?://\S+\.(txt|png|jpg|jpeg|gif|xml|svg|manifest|log|ini)[^\/]*$/
//
//
// @downloadURL https://raw.githubusercontent.com/gnadgnaoh/Userscripts/release/release/YouTube20JS20Engine20Tamer.user.js
// @updateURL https://raw.githubusercontent.com/gnadgnaoh/Userscripts/release/release/YouTube20JS20Engine20Tamer.meta.js
// ==/UserScript==
(()=>{const le=window.WeakMapOriginal||window.WeakMap,mn=!0,wt=!0,yn=!1,vt=6,St=!0,gn=!0,Ct=!0,bn=!0,wn=!1,vn=!0,Sn=!0,Cn=!0,En=!1,On=!0,In=!0,kn=!0,An=!0,Et=!0,Ot=!0,Tn=!0,Rn=!0,Pn=!0,Mn=!0,Fe=1,et=0,ye=3,Dn=!0,Nn=!1,jn=!0,Ln=!0,Fn=!0,xe=!0&&typeof WeakRef=="function"&&typeof FinalizationRegistry=="function",xn=!0,Ie=367,$n=!0,qn=!1,It=!0,kt=!0,Un=!0,Bn=!1,Wn=!0,Te=!1,Hn=!1,Vn=!0,Xn=!0,zn=!0,Jn=!0,Kn=!0,Yn=!0,Gn=!0,Zn=!0,At=!0,Qn=!0,tt=!1,Tt=!1,eo=!0,Rt=!0,to=!0,no=!0,oo=!0,Pt=!1,so=!0,ro=!0,Mt=2,Dt=!0,Nt=!0,io=!0,ao=!0,jt=!0,co=!1,Lt=!0,lo=!0,uo=!0,fo=!0,po=!0,_o=!1,ho=!0,mo=!0,yo=!0,nt=!1,go=new Set(["hostElement72","parentComponent72","localVisibilityObserver_72","cachedProviderNode_72","__template72","__templatizeOwner72","__templateInfo72","__dataHost72","__CE_shadowRoot72","elements_72","ky36","kz62","m822","disabled","allowedProps","filledButtonOverrides","openPopupConfig","supportsInlineActionButtons","allowedProps","dimension","loadTime","pendingPaint","countdownDurationMs","countdownMs","lastCountdownTimeMs","rafId","playerProgressSec","detlaSincePausedSecs","behaviorActionMap","selected","maxLikeCount","maxReplyCount","isMouseOver","respectLangDir","noEndpoints","objectURL","buttonOverrides","queuedMessages","STEP","BLOCK_ON","MIN_PROGESS","MAX_PROGESS","DISMISSED_CONTENT_KEYSPACE","followUpDialogPromise","followUpDialogPromiseResolve","followUpDialogPromiseReject","hoverJobId","JSC$14573_touched","toggleable","isConnected","scrollDistance","dragging","dragMouseStart","dragOffsetStart","containerWidthDiff","disableDeselectEvent","emojiSize","buttonOverride","shouldUseStickyPreferences","longPressTimeoutId","observeVisibleOption","observeHiddenOption","observePrescanOption","visibilityMonitorKeys","observeVisibleOption","observeHiddenOption","observePrescanOption","visibilityMonitorKeys","clearTimeout","switchTemplateAtRegistration","hasUnmounted","switchTemplateAtRegistration","stopKeyboardEventPropagation","tangoConfiguration","itemIdToDockDurationMap","actionMap","emojiManager","inputMethodEditorActive","suggestionIndex","JSC$10745_lastSuggestionRange","actionMap","asyncHandle","shouldAnimateIn","lastFrameTimestamp","scrollClampRaf","scrollRatePixelsPerSecond","scrollStartTime","scrollStopHandle"]),bo=typeof AbortSignal<"u"&&typeof(AbortSignal||0).timeout=="function"&&typeof navigator<"u"&&/\b(Macintosh|Mac\s*OS)\b/i.test((navigator||0).userAgent||""),Ee=this instanceof Window?this:window,Ft="jswylcojvzts";if(Ee[Ft])throw new Error("Duplicated Userscript Calling");Ee[Ft]=!0;const M=Symbol();let zo=!1;const ke=nextBrowserTick;if(typeof ke!="function"||(ke.version||0)<2){console.log("nextBrowserTick is not found.");return}let xt=0;const U=(async()=>{})().constructor,He=((e,r)=>{const n=(o,a)=>{e=o,r=a};return class extends U{constructor(a=n){super(a),a===n&&(this.resolve=e,this.reject=r)}}})(),$t=typeof FinalizationRegistry<"u"?FinalizationRegistry:class{constructor(r=void 0){}register(r,n,o=void 0){}unregister(r){}};let $e=e=>{if($e=r=>r,typeof trustedTypes<"u"&&trustedTypes.defaultPolicy===null){let r=n=>n;trustedTypes.createPolicy("default",{createHTML:r,createScriptURL:r,createScript:r})}return e};const pe=Reflect.getPrototypeOf(HTMLTitleElement),Jo=pe.prototype.append,Ko=pe.prototype.remove,Go=DocumentFragment.prototype.append,Zo=Node,Ve=(e,r)=>{let n=e.toFixed(r),o=`${+n}`;return o.length>n.length?n:o},Oe=location.pathname.startsWith("/live_chat"),ot=!1;let st=null,qt=null,Qo=null,es=!1;if(Node.isConnectedOverrided===void 0){const e=Object.getOwnPropertyDescriptor(Node.prototype,"isConnected");if(e&&e.get&&e.configurable){Node.isConnectedOverrided=null;const r=e.get,n=function(){const o=Node.isConnectedOverrided;return typeof o=="boolean"?o:r.call(this)};Object.defineProperty(Node.prototype,"isConnected",{...e,get:n})}}const Me=new Set;Me.add=Me.addOriginal||Me.add;const De=new Set;De.add=De.addOriginal||De.add;const Ne=new Set;if(Ne.add=Ne.addOriginal||Ne.add,eo&&!Set.prototype.addOriginal&&!Map.prototype.setOriginal){const e=Node;Set.prototype.addOriginal=Set.prototype.add,Set.prototype.add=function(r){return r instanceof e&&(this[M]||(this[M]=ae(this)),Me.add(this[M])),this.addOriginal(r)},Map.prototype.setOriginal=Map.prototype.set,Map.prototype.set=function(r,n){return r instanceof e&&(this[M]||(this[M]=ae(this)),De.add(this[M])),n instanceof e&&(this[M]||(this[M]=ae(this)),Ne.add(this[M])),this.setOriginal(r,n)}}window.showNM00=()=>{const e=[...Me].map(o=>Q(o)).filter(o=>!!o),r=[...De].map(o=>Q(o)).filter(o=>!!o),n=[...Ne].map(o=>Q(o)).filter(o=>!!o);return{nmSet:e,nmMap:r,nmMapV:n}},window.testNM00=e=>{const r=[...Me].map(a=>Q(a)).filter(a=>!!a),n=[...De].map(a=>Q(a)).filter(a=>!!a),o=[...Ne].map(a=>Q(a)).filter(a=>!!a);for(const a of r)if(a.has(e))return 1;for(const a of n)if(a.has(e))return 2;for(const a of o)for(const[s,l]of a.entries())if(l===e)return 4;return 0};let Ut=!1;const wo=e=>{if(Ut)return;if(Ut=!0,typeof e.createComponent_!="function"||e.createComponent_.length!==3&&e.createComponent_.length!==4){console.warn("FORCE_NO_REUSEABLE_ELEMENT_POOL_fn failed.");return}const r=Map.prototype.get,n=Set.prototype.has;let o=null;Set.prototype.has=function(s){return s==="dummy-4718"?!1:n.call(this,s)},Map.prototype.get=function(s){return s==="dummy-4718"&&(o=this),r.call(this,s)};let a;try{a=e.createComponent_("dummy-4718",{},!0)}catch{}if(Map.prototype.get=r,Set.prototype.has=n,a&&(a.nodeName||"").toLowerCase()==="dummy-4718"&&o!==null&&o instanceof Map){console.log("[yt-js-engine-tamer] qcMap",o),o.__qcMap8781__=!0;const s=f=>{f instanceof Array&&(f.length=0,f.push=function(){},f.pop=function(){},f.shift=function(){},f.unshift=function(){},f.splice=function(){},f.sort=function(){},f.reverse=function(){})},l=function(f){f.forEach(s),f.clear()};o.set=function(f,i){if(!this.__qcMap8781__)return Map.prototype.set.call(this,f,i);s(i),this.size>0&&(console.log("[yt-js-engine-tamer] qcMap","clear 01"),l(this))},o.get=function(f){if(!this.__qcMap8781__)return Map.prototype.get.call(this,f);this.size>0&&(console.log("[yt-js-engine-tamer] qcMap","clear 02"),l(this))},o.size>0&&(console.log("[yt-js-engine-tamer] qcMap","clear 03"),l(o))}a=null,o=null},Xe=e=>{if(!e)return;e.length||(e=[e]);const r=new Set;r.add=r.addOriginal||r.add;for(const a of e)if(a&&a.nodeType>=1&&(r.add(a),a.querySelectorAll))for(const s of a.querySelectorAll("*"))r.add(s);const n=[...r];r.clear();const o=a=>{let s=a.nodeName.toLowerCase(),l=a.id;return l?`${s}#${l}`:`${s}`};for(const a of n)if(a&&a.nodeType>=1&&!a.__renderPath522__){let s=a,l=[o(s)];if(!a.is)for(;(s=s.parentNode)&&(l.unshift(o(s)),!s.is););a.__renderPath522__=l.join("/")}},vo=function(e,r,n,o){return o||(o={bubbles:!0,cancelable:!1,composed:!0}),n!=null&&(o.detail=n),r=new CustomEvent(r,o),e.dispatchEvent(r),r};if(_o){const e=Symbol(),r=()=>{try{const o=ytInitialPlayerResponse.videoDetails;o&&o.isLowLatencyLiveStream&&(o.isLowLatencyLiveStream=!1),o&&o.latencyClass==="MDE_STREAM_OPTIMIZATIONS_RENDERER_LATENCY_LOW"&&(o.latencyClass="MDE_STREAM_OPTIMIZATIONS_RENDERER_LATENCY_NORMAL"),o&&o.latencyClass==="MDE_STREAM_OPTIMIZATIONS_RENDERER_LATENCY_ULTRA_LOW"&&(o.latencyClass="MDE_STREAM_OPTIMIZATIONS_RENDERER_LATENCY_NORMAL")}catch{}};Object.defineProperty(Object.prototype,"isLowLatencyLiveStream",{get(){const o=this[e];return typeof o>"u"||r(),o},set(o){r(),o===!0&&(o=!1),this[e]=o},enumerable:!1,configurable:!0});const n=Symbol();Object.defineProperty(Object.prototype,"latencyClass",{get(){const o=this[n];return typeof o>"u"||r(),o},set(o){r(),o==="ULTRALOW"||o==="LOW"?o="NORMAL":(o==="MDE_STREAM_OPTIMIZATIONS_RENDERER_LATENCY_LOW"||o==="MDE_STREAM_OPTIMIZATIONS_RENDERER_LATENCY_ULTRA_LOW")&&(o="MDE_STREAM_OPTIMIZATIONS_RENDERER_LATENCY_NORMAL"),this[n]=o},enumerable:!1,configurable:!0})}class So extends HTMLTitleElement{}const ts=function(e){if(!e||typeof e!="object")return;const r=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(const n of r){const o=e[n];typeof(o||0)=="object"&&o.nodeType>=1&&o.isConnected===!1&&_e.addNode(o)}},qe=new Set;qe.add=qe.addOriginal||qe.add,window.showShadys00=()=>[...qe].map(e=>Q(e));const _e=new Set;_e.add=_e.addOriginal||_e.add,_e.addNode_=tt?function(e){if(!(!e||e.__keepInstance038__||e.t792||e instanceof HTMLTitleElement||e.nodeName==="defs"||e.nodeName==="TITLE")&&e&&e.nodeType>=1&&e.nodeType!==9)return e[M]||(e[M]=ae(e)),this.add(e[M])}:()=>{},_e.addNode=tt?e=>{if(!(!e||e.__keepInstance038__||e.t792||e instanceof HTMLTitleElement||e.nodeName==="defs"||e.nodeName==="TITLE")&&e&&e.nodeType>=1&&e.nodeType!==9){try{const r=e.getRootNode();r&&r!==e&&r.nodeType>=1&&r.nodeType!==9&&_e.addNode_(r)}catch{}_e.addNode_(e)}}:()=>{},no&&Object.defineProperty(Object.prototype,"__CE_shadowRoot",{get(){return Q(this.__CE_shadowRoot366)},set(e){return typeof e!="object"?(this.__CE_shadowRoot366&&(this.__CE_shadowRoot366=null),!1):(!e||typeof e!="object"?this.__CE_shadowRoot366=e:(e[M]||(e[M]=ae(e)),this.__CE_shadowRoot366=e[M]),!0)}});const je=document.createElementNS("http://www.w3.org/2000/svg","defs"),Co=document.createElementNS("http://www.w3.org/2000/svg","defs"),Eo=document.createElementNS("http://www.w3.org/2000/svg","defs"),Bt=new $t(e=>{Tt&&console.log(`NF00: node[${e}] fully removed`)});let Wt=0;const Ht=new Set;Bt.registerNode=function(e){if(e&&e.nodeType>=1&&!e.t792){e.t792=Wt=(Wt&1073741823)+1;const r=`${e.nodeName.toLowerCase()}#${e.t792}`;this.register(e,r),Tt&&console.log(`NF00: try remove node[${r}]`),Ht.add(ae(e))}},window.showNg00=()=>{const e=new Set;e.add=e.addOriginal||e.add;for(const n of Ht){const o=Q(n);o&&e.add(o)}const r=[...e];return e.clear(),window.showNg01=[...r],window.showNg01},window.showTemplates00=()=>{const e={},r=document.querySelectorAll("*");for(const l of r){const f=l.nodeName.toLocaleLowerCase(),i=e[f]||[],d=fe(l);d!==l&&(d.templateInfo&&i.push(["cnt0",d.templateInfo,l]),l._templateInfo&&i.push(["cnt1",d._templateInfo,l]),l.__templateInfo&&i.push(["cnt2",d.__templateInfo,l])),l.templateInfo&&i.push(["elm0",l.templateInfo,l]),l._templateInfo&&i.push(["elm1",l._templateInfo,l]),l.__templateInfo&&i.push(["elm2",l.__templateInfo,l]),i.length>=1&&(e[f]=i)}const n=(l,f)=>l===f?0:[l,f].sort()[0]===l?-1:1,o=Object.entries(e).map(l=>[l[0],[...new Set(l[1].map(f=>f[0]))].join("|")]).sort((l,f)=>n(`${l[1]}.${l[0]}`,`${f[1]}.${f[0]}`)),a=Object.entries(e).map(l=>[l[0],[...new Set(l[1].map(f=>f[1]))]]),s=Object.entries(e).map(l=>{const f=[...new Set(l[1].map(v=>v[1]))],i=[...new Set(f.map(v=>v.nodeList||v))];return[l[0],i]});return{result:e,counting1:o,counting2:a,counting3:s}},window.showFrag00=function(){const e={},r=document.querySelectorAll("*");for(const n of r){const o=n.nodeName.toLocaleLowerCase(),a=e[o]||[],s=fe(n);s!==n&&(s.templateInfo&&a.push(["cnt0",s.templateInfo,n]),n._templateInfo&&a.push(["cnt1",s._templateInfo,n]),n.__templateInfo&&a.push(["cnt2",s.__templateInfo,n])),n.templateInfo&&a.push(["elm0",n.templateInfo,n]),n._templateInfo&&a.push(["elm1",n._templateInfo,n]),n.__templateInfo&&a.push(["elm2",n.__templateInfo,n]),a.length>=1&&(e[o]=a)}return e};const Oo=e=>{const r=[...qe];for(let n of r){if(n=Q(n),!n)continue;const o=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(const a of o){const s=o[a];if(s){if(s instanceof Node)(e===s||e.contains(s))&&(o[a]=je);else if(typeof s=="object"&&s.splice&&s.length>0)for(let l=s.length-1;l>=0;l--){const f=s[l];f instanceof Node&&(e===f||e.contains(f))&&s.splice(l,1)}}}}r.length=0};if(tt){const e=new Set;e.add=e.addOriginal||e.add,setInterval(()=>{const r=new Set;r.add=r.addOriginal||r.add;for(const s of e){e.delete(s);const l=Q(s);if(l&&l.nodeType>=1&&l.isConnected===!1){let f;try{f=l.getRootNode()}catch{}if(!(f&&f.nodeType>=1&&f.nodeType!==9&&f.isConnected===!0)){if(r.add(l),l.querySelectorAll)for(const i of l.querySelectorAll("*"))r.add(i)}}}for(const s of _e){_e.delete(s);const l=Q(s);l&&l.isConnected===!1&&e.add(s)}if(r.size===0)return;const n=[...Me].map(s=>Q(s)).filter(s=>!!s),o=[...De].map(s=>Q(s)).filter(s=>!!s),a=[...Ne].map(s=>Q(s)).filter(s=>!!s);for(const s of r){if(s===je||s.__keepInstance038__||s.t792)continue;const l=!!(fe(s).$||0).tooltip;if(s&&s.__shady_getRootNode){let c=null;try{c=s.__shady_getRootNode()}catch{}c&&c.__keepInstance038__&&(c.__keepInstance038__=!1),c&&c.nodeType>=1&&c.isConnected===!1&&_e.addNode(c)}if(s&&s.getRootNode){const c=s.getRootNode();c&&c.__keepInstance038__&&(c.__keepInstance038__=!1),c&&c.nodeType>=1&&c.isConnected===!1&&_e.addNode(c)}if(s.__instances)for(const c of s.__instances)c&&c.__keepInstance038__&&(c.__keepInstance038__=!1),c&&c.nodeType>=1&&c.isConnected===!1&&_e.addNode(c);if(s&&s.nodeType===1){if(typeof fe(s).__teardownInstance=="function")try{fe(s).__teardownInstance()}catch{}else if(typeof s.__teardownInstance=="function")try{s.__teardownInstance()}catch{}}if(s&&s.nodeType===1&&s.__detachAndRemoveInstance&&(s.__instances||0).length>=1)for(let c=s.__instances.length-1;c>=0;c--)s.__detachAndRemoveInstance(c);s&&s.nodeType===1&&s.is===void 0&&(typeof fe(s).dispose=="function"?fe(s).dispose():typeof s.dispose=="function"&&s.dispose()),s&&s.nodeType===1&&(typeof fe(s).unobserve_=="function"?fe(s).unobserve_():typeof s.unobserve_=="function"&&s.unobserve_()),s&&(typeof fe(s).unobserveNodes=="function"?fe(s).unobserveNodes():typeof s.unobserveNodes=="function"&&s.unobserveNodes());const f=fe(s).visibilityMonitorKeys||s.visibilityMonitorKeys;if(f){for(const c of f)c.element&&(c.element=null);f.length=0}const i=s.__instances;if(i){for(const c of i)c&&c.__keepInstance038__&&(c.__keepInstance038__=!1),c&&c.nodeType>=1&&c.isConnected===!1&&_e.addNode(c);i.length=0}const d=s.__shady_parentNode;d&&d.nodeType>=1&&d.isConnected===!1&&_e.addNode(d),Rt&&s.removeAllEventListener001(),s&&s.remove&&s.remove(),s.__domApi&&(s.__domApi=null);const v=s.__shady;if(v&&(delete s.__shady,rt)){const c=v[rt];if(c){v[rt]=null;for(const _ of[...Object.getOwnPropertyNames(v),...Object.getOwnPropertySymbols(v)])c[_]=null}}const T=s.__CE_shadowRoot;T&&(s.__CE_shadowRoot=null,T.nodeType>=1&&T.isConnected===!1&&_e.addNode(T));const q=s.__shady_native_childNodes;if(q.length>0){for(const c of q)c&&c.nodeType>=1&&c.isConnected===!1&&_e.addNode(c);q.length=0}if(s.__shady_native_childNodes=null,s.__templateInfo&&(s.__templateInfo=null),l&&fe(s).$&&(fe(s).$.tooltip=Co),s&&s.nodeType>=1){const c=Object.getOwnPropertyDescriptor(s,"visibilityMonitorKeys");if(c&&c.value&&c.value.length>=1){const _=c.value;for(let g=0;g<_.length;g++)_[g].element=Eo,_[g]=null}}if(s.__dataHost){try{delete s.__dataHost}catch{}try{s.__dataHost=null}catch{}}if(s.root){try{delete s.root}catch{}try{s.root=null}catch{}}if(s.children&&s.children.splice){try{delete s.children}catch{}try{s.children=null}catch{}}if(s.__shady&&typeof s.__shady=="object")try{s.__shady=null}catch{}s.nodeType===1&&Reflect.setPrototypeOf(s,So.prototype);for(const c of Object.getOwnPropertyNames(s)){if(c==="host"&&typeof(s.host||0)=="object"){if(s.nodeType===11){const g=s.host;g&&g.nodeType>=1?(s.host=je,g.isConnected===!1&&g!==je&&_e.addNode(g)):s.host=null}else s.host=null;continue}const _=Object.getOwnPropertyDescriptor(s,c);if(_.value){const g=_.value;typeof(g||0)=="object"?s[c]=null:typeof(g||0)=="function"&&delete s[c]}}for(const c of Object.getOwnPropertySymbols(s)){const _=s[c];typeof(_||0)=="object"&&!_.deref&&(s[c]=null)}s.__shady_native_childNodes&&(s.__shady_native_childNodes=je.childNodes),s.__shady_children&&(s.__shady_children=je.children);for(const c of n)c.delete(s);for(const c of o)c.delete(s);nn(s),Oo(s),Bt.registerNode(s)}r.clear()},400)}if(Rt&&!EventTarget.prototype.addEventListener828&&!EventTarget.prototype.removeAllEventListener001){const e=new le;EventTarget.prototype.addEventListener828=EventTarget.prototype.addEventListener,EventTarget.prototype.addEventListener=function(r,n,o=void 0){const a=this[M]||(this[M]=ae(this));let s=e.get(a);return s||e.set(a,s=new Set),s.add([r,n,o]),this.addEventListener828(r,n,o)},EventTarget.prototype.removeEventListener828=EventTarget.prototype.removeEventListener,EventTarget.prototype.removeEventListener=function(r,n,o=void 0){const a=this[M]||(this[M]=ae(this));let s=e.get(a);if(s)for(const l of s)l[0]===r&&l[1]===n&&(l[2]===o?s.delete(l):to&&(s.delete(l),this.removeEventListener828(r,n,l[2])));return this.removeEventListener828(r,n,o)},EventTarget.prototype.countEvent767=function(){const r=this[M]||(this[M]=ae(this));return e.get(r)},EventTarget.prototype.removeAllEventListener001=function(){const r=this[M]||(this[M]=ae(this));let n=e.get(r);if(n){e.delete(r);for(const o of n){const[a,s,l]=o;o.length=0,this.removeEventListener828(a,s,l)}n.clear()}}}const Vt=(e,r)=>{let n=Symbol();Object.defineProperty(Object.prototype,e,{get(){return this[n]},set(o){return typeof o!="function"?(this[n]=o,!0):(n in this||r(this),this[n]=o,!0)},configurable:!0,enumerable:!1})},Xt=e=>e&&e.getNode592177?e.getNode592177():e,Io=e=>{if(e instanceof Node&&e.nodeType>=1){let r,n=null;for(;(r=e.firstChild)&&r!==n;)try{r.__keepInstance038__=!1,r.remove(),_e.addNode(r),n=r}catch{}try{e.__keepInstance038__=!1,e.remove(),_e.addNode(e)}catch{}}};let zt=!1,rt="",ns="";const ko=()=>{zt=!0;let e=document.createComment("1");const n=document.implementation.createHTMLDocument().firstElementChild;n.appendChild(e);let o="";e.__shady=new Proxy({},{get(s,l){throw o=l,new Error},set(s,l,f){throw new Error}});try{e.__shady_getRootNode()}catch{}let a=null;try{e.__shady=null,e.__shady_getRootNode(),a=e.__shady}catch{}n.removeChild(e)},Ce=new Map;Ce.set=Ce.setOriginal||Ce.set;const Ue=new Map;Ue.set=Ue.setOriginal||Ue.set;class Jt extends Node{constructor(){}addEventListener(r,n,o=void 0){const a=Ce.get(this.eid),s=Q(a);if(s)return s.addEventListener(r,n,o)}removeEventListener(r,n,o=void 0){const a=Ce.get(this.eid),s=Q(a);if(s)return s.removeEventListener(r,n,o)}getNode592177(){const r=Ce.get(this.eid);return Q(r)}set __dataHost(r){const n=Ce.get(this.eid),o=Q(n);if(o)return o.__dataHost=r,!0}get __dataHost(){const r=Ce.get(this.eid),n=Q(r);if(n)return n.__dataHost}set __dataCompoundStorage(r){const n=Ce.get(this.eid),o=Q(n);if(o)return o.__dataCompoundStorage=r,!0}get __dataCompoundStorage(){const r=Ce.get(this.eid),n=Q(r);if(n)return n.__dataCompoundStorage}set __shady_className(r){const n=Ce.get(this.eid),o=Q(n);if(o)return o.__shady_className=r,!0}get __shady_className(){const r=Ce.get(this.eid),n=Q(r);if(n)return n.__shady_className}}if(oo){const e=new Map;e.set=e.setOriginal||e.set;const r=Date.now()-8e10,n=()=>`${Math.floor(Math.random()*314159265359+314159265359).toString(36)}_${(Date.now()-r).toString(36)}`,o=new Set,a=window.gxxC572||(window.gxxC572=new Set);Vt("_removeBoundDom",q=>{const N=q,c=N.constructor,_=N._bindTemplate,g=c._parseTemplate;if(typeof g=="function"&&g.length===2&&!c._parseTemplate322){Pt&&console.log("Hack00: _parseTemplate",g),c._parseTemplate322=g;const p=new le,y={get(){return!this||!this[M]?void 0:p.get(this[M])},set(w){return delete this._templateInfo,this._templateInfo=w,console.warn("_templateInfoPd set"),!0},enumerable:!0,configurable:!0};c._parseTemplate=function(w,L){if(!w)return g.call(this,w,L);w[M]||(w[M]=ae(w));let $=p.get(w[M]);return $||($=g.call(this,w,L),$&&!p.has(w[M])&&(p.set(w[M],$),$.iAm68="_templateInfo",w.iHave68="_templateInfo",w._templateInfo&&w._templateInfo===$&&(delete w._templateInfo,w._templateInfo||Object.defineProperty(w,"_templateInfo",y))),$)}}typeof _=="function"&&_.length===2&&!N._bindTemplate322&&(Pt&&console.log("Hack00: _bindTemplate",_),N._bindTemplate322=_,N._bindTemplate=function(p,y){let w=p;if(typeof(p||0)=="object"&&p instanceof HTMLTemplateElement&&(p.content||0).nodeType===11){let X="";try{X=this?this.is:""}catch{}typeof(X||0)=="string"&&(e.has(X)?w=e.get(X):e.set(X,p))}let L=null;const $=_.call(this,w,y);return L=$,$});const u=N._runEffectsForTemplate;if(typeof u=="function"&&u.length===4&&!N._runEffectsForTemplate322){N._runEffectsForTemplate322=u;const p=(y,w,L,$,X)=>{try{const ue=Q(y),ie=Q(w);if(!ue||!ie)return;const de=Q(L),be=Q($),B=Q(X);typeof(be||0)=="object"&&a.delete(be),typeof(B||0)=="object"&&a.delete(B);const j=ie.nodeList,m=j&&j.map(R=>Xt(R)),A={propertyEffects:ie.propertyEffects,nodeList:m,firstChild:Q(ie.firstChild)};{const R=A,{propertyEffects:b,nodeList:D,firstChild:Y}=R;if(b&&D&&D.length>=0)for(const[H,ne]of Object.entries(b))for(let ee=ne.length-1;ee>=0;ee--){const te=(ne[ee]||0).info;te&&typeof te.index=="number"&&!D[te.index]&&ne.splice(ee,1)}}const E=ue.hostElement,k=E instanceof Node&&E.isConnected===!0?[...E.childNodes]:null;Xe(k);try{u.call(ue,A,de,be,B)}catch(R){const b=R.stack;o.has(b)||(o.add(b),console.warn(`[yt-js-engine-tamer] _runEffectsForTemplate EXCEPTION

`,R))}(k||0).length>=1&&U.resolve(k).then(R=>{for(const b of R)b.parentNode!==E&&b.__weakNodeCId57__&&_e.addNode(b);R.length=0,R=null})}catch(ue){console.error(ue)}};N._runEffectsForTemplate=function(y,w,L,$){const X=!y||typeof y!="object"?y:y[M]||(y[M]=ae(y)),ue=!L||typeof L!="object"?L:L[M]||(L[M]=ae(L)),ie=!w||typeof w!="object"?w:w[M]||(w[M]=ae(w)),de=!$||typeof $!="object"?$:$[M]||($[M]=ae($));typeof(L||0)=="object"&&a.add(L),typeof($||0)=="object"&&a.add($);const be=!this||typeof this!="object"?this:this[M]||(this[M]=ae(this));y.runEffects?y.runEffects(()=>{p(be,X,ie,ue,de)},w,$):p(be,X,ie,ue,de)}}const h=N._registerHost;if(h&&!N._registerHost322&&h.length===0){N._registerHost322=h;const p=new le;p.set=p.setOriginal||p.set,N._registerHost=function(){p.has(this)||(p.set(this,this.__dataHost||null),Object.defineProperty(this,"__dataHost",{get(){return Q(p.get(this))||null},set($){const X=Q($);if(!X)p.set(this,null);else{X[M]||(X[M]=ae(X));let ue=!1;this.is==="ytd-masthead"&&(ue=!0),ue?p.set(this,X):p.set(this,X[M])}return!0},enumerable:!0,configurable:!0}));let y=this.__dataHost;Xe(y);let w=h.call(this);return this.__dataHost!==y&&y&&y.nodeType>=1&&y.isConnected===!1&&_e.addNode(y),w}}});const l=new Set,f=window.__listWeakNodeC__=()=>[...i()].sort(),i=()=>{let q=new Set;for(const N of l)for(const c of Object.getOwnPropertyNames(N))q.add(c);return q};setInterval(()=>{l.size>0&&i().size!==1&&console.warn(`[yt-js-engine-tamer] WARNING 0xF04E: ${f()}`)},400);const d=new Map,v=(q,N)=>{const c=class{},_=c.prototype;return N.forEach(g=>{const u=`## ${g}`;Object.defineProperty(_,g,{get(){return Q(this[u])},set(h){return h instanceof Node?(h[M]||(h[M]=ae(h)),this[u]=h[M]):this[u]=h,!0},enumerable:!0,configurable:!0})}),_.__w646__=!0,d.set(q,c),c};Vt("_addMethodEventListenerToNode",q=>{const N=q,c=N.constructor,_=N._stampTemplate;typeof _=="function"&&_.length===2&&!N._stampTemplate374&&(N._stampTemplate374=_,N._stampTemplate=function(g,u){zt||ko();let h=null;try{let p=g,y=null;const w=_.call(this,p,u);if(y=w,w&&w.$&&!w.$.__w646__){const L=w.$,$=Object.getOwnPropertyNames(L),X=$.join(" "),ue=d.get(X)||v(X,$),ie={...L};Reflect.setPrototypeOf(L,ue.prototype);for(const de of $)delete L[de],L[de]=ie[de]}if(w&&w.nodeType===11&&!w.__fragId57__){const L=n();if(w.__fragId57__=L,w[M]||(w[M]=ae(w)),Ue.set(L,w[M]),w.nodeList){const $=w.nodeList;$.__belongFragId57__=L;for(let X=0,ue=$.length;X<ue;X++){const ie=$[X];if(ie&&ie.nodeType>=1&&!(ie instanceof ShadowRoot)){ie[M]||(ie[M]=ae(ie));const de=`${L}::${X}`,be=Object.create(Jt.prototype);be.eid=de,l.add(be),$[X]=be,Ce.set(de,ie[M]),ie.__weakNodeCId57__=de}else ie instanceof ShadowRoot&&console.warn("[yt-js-engine-tamer]","ShadowRoot in _stampTemplate")}}}return w}catch(p){console.error(p),h=p}throw h})})}if(ro&&!DocumentFragment.prototype.host577){DocumentFragment.prototype.host577=!0;let e=!1;const r=new $t(o=>{if(!o.hostCleared55){o.hostCleared55=!0;for(const a of[...Object.getOwnPropertyNames(o),...Object.getOwnPropertySymbols(o)]){const s=o[a]||0;typeof s=="object"&&(o[a]=null,s.length>0&&(s.length=0))}}});Object.defineProperty(DocumentFragment.prototype,"host",{get(){const o=Q(this.host677);return!e&&this.nodeType===11&&o&&n(Reflect.getPrototypeOf(this)),o},set(o){return o=Q(o),typeof(o||0)=="object"&&o.nodeType===1?(o[M]||(o[M]=ae(o)),this.host677=o[M],r.register(o,this)):this.host677=o,!0},enumerable:!0,configurable:!0});const n=o=>{e=!0,["ownerDocument","baseURI","isConnected"].forEach(function(a){const s=Object.getOwnPropertyDescriptor(o,a),l=Object.getOwnPropertyDescriptor(Node.prototype,a),f=s&&s.get,i=l&&l.get;f&&i&&(delete o[a],Object.defineProperty(o,a,{get:function(){return this.host?f.call(this):i.call(this)},configurable:!0}))})}}if(xn){const e=new Set;e.add=e.addOriginal||e.add;const r=new Set;r.add=r.addOriginal||r.add;const n=new Set;n.add=n.addOriginal||n.add,window.yMap=r,window.cMap=e,window.ydMap=n;const o=new Set;o.add=o.addOriginal||o.add,window.constructAts=o;const a=new le,s=(u,h)=>{let p=Q(u);return p?p[h]:null},l=(u,h)=>{let p=ae(u);if(p===u||!h||!h.length)return p;let y={};return h.forEach(w=>{y[w]={get(){return s(this,w)},enumerable:!1,configurable:!0}}),Object.defineProperties(p,y),p},f={},i=function(u){if(u===Object.prototype)return;a.get(u)||a.set(u,`protoKey0_${Math.floor(Math.random()*314159265359+314159265359).toString(36)}_${Date.now()}`),u[a.get(u)]=!0,so&&u.appendChild&&u.cloneNode&&u.contains&&u.getRootNode&&u.insertBefore&&u.querySelector&&u.querySelectorAll&&u.removeAttribute&&u.removeChild&&u.replaceChild&&u.setAttribute&&u.is===void 0&&!(u instanceof Node)&&(u.krmv757||(u.krmv757=!0,["querySelector","querySelectorAll"].forEach(w=>{if(!(w in HTMLTitleElement.prototype))return;const L=`${w}588`;u[L]=u[w];const $=w==="appendChild"||w==="insertBefore"||w==="removeChild"||w==="replaceChild";u[w]=function(){const X=((this||0).root||0).node;return!$&&X instanceof Element&&X.nodeType===1?X[w](...arguments):this[L](...arguments)}})));const h=`

${new Error().stack}

`.replace(/[\r\n]([^\r\n]*?\.user\.js[^\r\n]*?[\r\n]+)+/g,`
`).replace(/[\r\n]([^\r\n.]+[\r\n]+)+/g,`
`).trim().split(/[\r\n]+/)[0];o.add(h),Ie&32&&!u.dk322&&(u.__attachInstance||u.__detachInstance)&&q(u),Ie&2&&u._setPendingProperty&&!u.__setPropDX38__&&(u.__setPropDX38__=!0,u._setPendingProperty.length===3&&(u._setPendingProperty.bind=f._setPendingProperty$bind||(f._setPendingProperty$bind=function(y,...w){let L=y[M]||(y[M]=ae(y));return()=>{const $=Q(L);let X=Reflect.apply(this,$,w);return w.length=0,L=null,X}})));const p=u.constructor;Ie&8&&p._parseBindings&&!p.__parseBindingsDX38__&&(p.__parseBindingsDX38__=!0,n.add(p),p._parseBindings.length===2&&(p._parseBindings3858=p._parseBindings,p._parseBindings=f._parseBindings||(f._parseBindings=function(y,w){let L=this._parseBindings3858(y,w);return this.__bindingsArrs__=this.__bindingsArrs__||[],L&&this.__bindingsArrs__.push(L),L})))},d=Symbol(),v=new le,T=function(u,h){if(v.get(u))return v.get(u);let p=function(){const y=Q(this);if(!y)return;const w=fe(y);return u.apply(y,arguments)};return p.key38=h,p.originalFunc38=u,p.__wrapF84__=!0,v.set(u,p),v.set(p,p),p};Ie&16&&["_createPropertyAccessor","_addPropertyToAttributeMap","_definePropertyAccessor","ready","_initializeProperties","_initializeInstanceProperties","_setProperty","_getProperty","_setPendingProperty","_isPropertyPending","_invalidateProperties","_enableProperties","_flushProperties","_shouldPropertiesChange","_propertiesChanged","_shouldPropertyChange","attributeChangedCallback","_attributeToProperty","_propertyToAttribute","_valueToNodeAttribute","_serializeValue","_deserializeValue"].forEach(u=>{Object.defineProperty(Node.prototype,u,{get(){return this[`__a0939${u}__`]},set(h){if(typeof h!="function")return;const p=h.__wrapF84__?h:T(h,u);return this[`__a0939${u}__`]=p,!0}})});const q=u=>{if(!u.dk322){if(u.dk322=!0,window.__fixTemplateReuse1058__=!0,u.__ensureTemplatized994=u.__ensureTemplatized,typeof u.__ensureTemplatized994=="function"&&u.__ensureTemplatized994.length===0&&(u.__ensureTemplatized=function(){return this.__ensureTemplatized994()}),u.__updateInstances994=u.__updateInstances,typeof u.__updateInstances994=="function"&&u.__updateInstances994.length===3){let h=!1;u.__updateInstances=function(p,y,w){if(!h&&p===this.items&&(p||0).length>=1){h=!0;let $;for($=0;$<y;$++){let X=this.__instances[$],ue=w[$],ie=p[ue];if(X&&typeof(ie||0)=="object"){const de=p[ue]=Object.assign({},p[ue]);try{X.notifyPath(this.as,{})}catch{}try{X.notifyPath(this.as,de)}catch{}}}h=!1}return this.__updateInstances994(p,y,w)}}u.__detachInstance994=u.__detachInstance,typeof u.__detachInstance994=="function"&&u.__detachInstance994.length===1&&(u.__detachInstance=function(h){const p=this.__instances[h];p&&!p.__keepInstance038__&&(p.__keepInstance038__=!0);const y=(p||0).children;if(y&&y.length>=1){const w=document.createDocumentFragment();for(const L of[...y])w.appendChild(L)}try{return this.__detachInstance994(h)}catch{}return p}),u.__attachInstance994=u.__attachInstance,typeof u.__attachInstance994=="function"&&u.__attachInstance994.length===2&&(u.__attachInstance=function(h,p){const y=this.__instances[h];if(y&&!y.__keepInstance038__&&(y.__keepInstance038__=!0),y&&y.root&&p){const w=y.root,L=document.createDocumentFragment();L.appendChild(w),w.appendChild(L);const $=this.__attachInstance994(h,p);return this.__chunkingId||(this.__chunkingId=.25),$}})}},N=u=>{console.log("ytTemplateDomEntry triggered");const h=y=>{if(!y.isWeak){for(let w=0,L=y.length;w<L;w++){const $=y[w];$&&(Q($)?($[M]||($[M]=ae($)),y[w]=$[M]):y[w]=null)}y.isWeak=!0}},p=y=>{if(y.isWeak){for(let w=0,L=y.length;w<L;w++){const $=y[w];if($){let X=Q($);y[w]=X}}y.isWeak=!1}};Ie&256&&Object.defineProperty(u,"__instances",{get(){this.dk322||q(Reflect.getPrototypeOf(this));let y=this.__instances_actual471__;if(y&&y.isWeak){p(y);for(let w=y.length-1;w>=0;w--){const L=y[w];L?L.__keepInstance038__||(L.__keepInstance038__=!0):y.splice(w,1)}U.resolve(y).then(h)}return y},set(y){return this.dk322||q(Reflect.getPrototypeOf(this)),this.__instances_actual471__=y,y&&!y.isWeak&&U.resolve(y).then(h),!0},enumerable:!1,configurable:!0}),Ie&32&&(u.__detachInstance?q(u):U.resolve(u).then(y=>{q(y)}))};Ie&32&&Object.defineProperty(Object.prototype,"__ensureTemplatized",{set(u){return u===!0?!1:(tpProto=this,"connectedCallback"in tpProto&&tpProto!==Node.prototype&&!tpProto.__domDX37__&&(tpProto.__domDX37__=!0,N(tpProto)),this.__ensureTemplatized949__=u,!0)},get(){return this.__ensureTemplatized949__}}),Ie&64&&(pe.prototype.__dataHostBinding374=!0,Object.defineProperty(pe.prototype,"__dataHost",{get(){return Q(this.__dataHostWr413__)},set(u){return u&&typeof u=="object"&&!u.deref&&(u[M]||(u[M]=ae(u)),u=u[M]),this.__dataHostWr413__=u,!0}}));const c=function(u){if(u!==Object.prototype){if(a.get(u)||a.set(u,`protoKey1_${Math.floor(Math.random()*314159265359+314159265359).toString(36)}_${Date.now()}`),u[a.get(u)]=!0,io&&!u.disconnectedCallback277&&u.disconnectedCallback&&typeof u._readyClients=="function"&&typeof u._canApplyPropertyDefault=="function"&&typeof u._attachDom=="function"&&!u.is&&typeof u.constructor._finalizeTemplate=="function"){const h=u.disconnectedCallback;u.disconnectedCallback277=!0,u.disconnectedCallback=function(){if(h.call(this),this.nodeName==="DOM-IF"&&this.__instance&&typeof this.__teardownInstance=="function"){const p=this.__shady_parentNode||0,y=this.parentNode||0;if(p!==y&&p.nodeType===11&&y.nodeType===11&&(this.__instance.children||0).length>=1)try{this.__teardownInstance()}catch{}}}}Ie&32&&!u.dk322&&(u.__attachInstance||u.__detachInstance)&&q(u),Ie&128&&(u.__dataHostBinding374||(u.__dataHostBinding374=!0,Object.defineProperty(u,"__dataHost",{set(h){let p=h;return p&&typeof p=="object"&&!p.deref&&(p=p[M]||(p[M]=ae(p))),this[d]=p,!0},get(){let h=this[d];return typeof h=="object"?Q(h):h},enumerable:!1,configurable:!0})),u._registerHost&&u._enqueueClient&&u.__enableOrFlushClients&&!u._registerHostDX38__&&(u._registerHostDX38__=!0,u.__enableOrFlushClients=function(){const h=this.__dataPendingClients;if(h){const p=h.slice();h.length=0;for(let y=0,w=p.length;y<w;y++){let L=Q(p[y]);L&&(L.__dataEnabled?L.__dataPending&&L._flushProperties():L._enableProperties())}}},u._enqueueClient=function(h){if(h===this||!h||typeof h!="object")return;h.deref&&(h=Q(h));const p=this.__dataPendingClients||(this.__dataPendingClients=[]);h[M]||(h[M]=ae(h)),p.push(h[M])}))}},_=function(){const h=Reflect.getPrototypeOf(this);let p=Reflect.getPrototypeOf(h);const y=new Set;if(!r.has(p)){do{if(p===Object.prototype||p===null||p===Element.prototype||p===Node.prototype||p===EventTarget.prototype||p===pe.prototype)break;y.add(p),p=Reflect.getPrototypeOf(p)}while(!y.has(p));for(const w of y)r.add(w),c(w)}e.has(h)||(e.add(h),i(h))},g=Symbol();Object.defineProperty(Object.prototype,"root",{get(){return this[g]},set(u){const h=this?Q(this):null,p=u?Q(u):null;return p&&p instanceof Node&&!h.__setupRendered399__&&(h.__setupRendered399__=!0,_.call(h)),p&&p.is&&!p.__setupRendered399__&&(p.__setupRendered399__=!0,_.call(p)),this[g]=u,!0}})}let ze=null;const Kt=typeof CSSStyleSheet<"u"&&document.adoptedStyleSheets?e=>{ze||(ze=new CSSStyleSheet,document.adoptedStyleSheets.push(ze)),ze.insertRule(`${e}`)}:e=>{let r=document.querySelector("style[nonce]");r=r?r.getAttribute("nonce"):null;const n=document.createElement("style");typeof r=="string"&&n.setAttribute("nonce",r),n.textContent=`${e}`;let o;(o=document.head)?o.appendChild(n):(o=document.body||document.documentElement)&&o.insertBefore(n,o.firstChild)};function Ao(){Ye.then(()=>{Kt(".yt-formatted-string-block-line{display:block;}")});const e=new Map;ot&&console.log(11);function r(l){if(!l||typeof l!="string")return"";let f=e.get(l);if(f===void 0){let i=!1;f=l.replace(/[\s\u3000\u200b]*[\u200b\xA0\x20\n]+[\s\u3000\u200b]*/g,d=>(i=!0,d.includes(`
`)?`
`:d.replace(/\u200b/g,"").replace(/[\xA0\x20]+/g," "))),f=f.replace(/^[\s\u3000]+|[\u3000\s]+$/g,()=>(i=!0,"")),i?(e.set(l,f),e.set(f,null)):(f=null,e.set(l,null))}return f===null?l:f}function n(l){let f=l.runs;const i=f.length;if(i===1)return r(f[0].text);let d=new Array(i),v=0;for(const T of f)d[v++]=r(T.text);return d.join(`
`)}const o=l=>l.map(f=>{const i=f.transcriptSegmentRenderer;return{t:i.snippet.runs.map(d=>d.text).join("//"),a:i.startMs,b:i.endMs}}),a=l=>{if(l.length===1&&l[0]?.text?.includes(`
`)){const f=l[0].text,i=f.includes(`\r
`)?`\r
`:f.includes(`
\r`)?`
\r`:f.includes("\r")?"\r":`
`,d=f.split(i);let v=0;l.length=d.length;for(const T of d)l[v++]={...l[0],text:T,blockLine:!0}}for(const f of l)f.text=r(f.text)};function s(l){if(!l)return l;ot&&(console.log(12),U.resolve(JSON.stringify(l)).then(N=>{let c=JSON.parse(N);return console.log(7558,1,c),c}).then(N=>{let c=o(N);console.log(7558,2,c)}));const f=l.length;if(!f)return d;let i=0;const d=new Array(f),v=Symbol();{let N=new Map;for(const c of l){const _=(c||0).transcriptSegmentRenderer;if(!_){d[i++]=c;continue}const g=_.snippet.runs;if(!g||g.length===0){c[v]=!0;continue}let u=+_.startMs||0,h=+_.endMs||0;if(u===h||h-u<30)continue;const p=n(_.snippet),y=N.get(p),w=y===void 0?0:y===null?2:1;if(w===2)continue;const L={startMs:u,endMs:h,initialSegment:c,text:p};if(w===0){if(/^[,.\x60\x27\x22\u200b\xA0\x20;-]*$/.test(p)){c[v]=!0,N.set(p,null);continue}}else if(y){const $=L.startMs-y.endMs;let X=!1;if($>=0){if(($<25||$<450&&L.endMs-L.startMs<900||$<150&&L.endMs-L.startMs>800)&&(X=!0),X&&y.endMs<=h&&u<=h){y.endMs=L.endMs,y.initialSegment.transcriptSegmentRenderer.endMs=L.initialSegment.transcriptSegmentRenderer.endMs;continue}}else if(L.startMs<y.startMs&&y.startMs<L.endMs){L.endMs>y.endMs&&(y.endMs=L.endMs,y.initialSegment.transcriptSegmentRenderer.endMs=L.initialSegment.transcriptSegmentRenderer.endMs);continue}}N.set(p,L),a(g),d[i++]=c}N=null}const T=d.length=i,q=f;if(T!==q){let N=0,c=-1;for(let _=0;_<T;_++){let u=d[_].transcriptSegmentRenderer;if(!u)continue;const h=u.snippet.runs;if(h.length>1||h[0].text.includes(`
`))continue;const p=+u.startMs||0,y=+u.endMs||0;u=null;let w=new Map;for(let X=N;X<q;X++){const ue=l[X];if(!ue||ue[v])continue;const ie=ue.transcriptSegmentRenderer;if(!ie){c=X;continue}const de=+ie.startMs||0;if(!(de>=p)){c=X;continue}if(de>y){N=c+1;break}const B=+ie.endMs||0;if(B<=y){const j=n(ie.snippet),m=w.get(j);B>=de&&w.set(j,(m||0)+1+(B-de))}}if(w.size<=1)continue;let L=[...w.entries()];w=null,L.sort((X,ue)=>ue[1]-X[1]);let $=L[1][1];if($>4){let X=0,ue=!1;for(let ie=2,de=L.length;ie<de;ie++)if(X+=L[ie][1],X>=$){ue=!0;break}if(!ue){const ie=L[0][0],de=L[1][0];de.replace(/\s/g,"")!==ie.replace(/\s/g,"")&&ie===r(h[0].text)&&(h[0]&&h[0].text&&(h[0].blockLine=!0),h.push({text:de,blockLine:!0}))}}L=null}ot&&U.resolve(d).then(_=>{let g=_;return console.log(7559,1,g),g}).then(_=>{let g=o(_);console.log(7559,2,g)})}return e.clear(),d}return s}let it=null;At&&!Oe&&(()=>{const e=new le;function r(s){let l,f,i=((l=s.data)==null?void 0:l[f="searchResultSegments"])||((l=s.data)==null?void 0:l[f="initialSegments"])||[];if(!i||!l||!f||typeof(i||0)!="object"||!Number.isFinite(i.length*1))return;it=it||Ao();let d;if(d=e.get(i),!d){let v=null;try{v=it(i)}catch{}i&&typeof i=="object"&&i.length>=1&&v&&typeof v=="object"&&v.length>=1&&(d=v,e.set(i,d),e.set(d,d))}d&&d!==i&&(l[f]=d)}const n=Symbol(),o=Object;o[n]=o.defineProperties;let a=!0;o.defineProperties=function(s,l){let f,i;return a&&l&&(f=l.segments)&&(i=f.get)&&(a=!1,f.get=function(){return r(this),i.call(this)}),o[n](s,l)}})();let Yt=new He,at=typeof webkitRequestAnimationFrame=="function"?window.webkitRequestAnimationFrame.bind(window):window.requestAnimationFrame.bind(window);const Gt=e=>at(xt?e:r=>{Yt.then(()=>{e(r)})});window.requestAnimationFrame=Gt;const fe=e=>e?e.polymerController||e.inst||e||0:e||0,os=e=>fe(e).$||e.$||0,Zt=e=>{if(!e)return null;let r=null,n;return((n=e.__instance)&&n.props||(n=e.instance)&&n.props||(n=fe(e))&&n.props||(n=e)&&n.props)&&(r=n),r},To=(e,r)=>{const n=Object.getOwnPropertyDescriptors(r);for(const o in n)Object.getOwnPropertyDescriptor(e,o)||Object.defineProperty(e,o,n[o])},Je=e=>{for(const r in e)if(e.hasOwnProperty(r)&&typeof e[r]=="object")return r;return null};function Ro(e,r,n=64){const o=[],a=new WeakSet;function s(l,f){a.add(l);for(const[i,d]of Object.entries(l))d!==null&&typeof d=="object"?f+1<=n&&!a.has(d)&&s(d,f+1):r(d)&&o.push([l,i])}return typeof(e||0)=="object"&&s(e,0),o}const ae=typeof WeakRef=="function"?(e=>e?new WeakRef(e):null):(e=>e||null),Q=(e=>e&&e.deref?e.deref():e),Qt=e=>Symbol.iterator in Object_(e);typeof Document.prototype.requestStorageAccessFor=="function"&&(Vn?(Document.prototype.requestStorageAccessFor=void 0,console.log("[yt-js-engine-tamer]","requestStorageAccessFor is removed.")):Xn&&window!==top&&(Document.prototype.requestStorageAccessFor=function(){return new U((e,r)=>{r()})}));const ss=e=>{let r=new Set,n=new Set,o="";for(const a of e.split(`
`)){if(a.split(":").length<3)continue;let s=/(([\w-_\.]+):\d+:\d+)[^:\r\n]*/.exec(a);if(s){if(n.add(s[2]),n.size>=3)break;if(!o)o=s[2];else if(n.size===2&&o&&o===s[2])break;r.add(a)}}return[...r].join(`
`)};if(En&&!Function.prototype.bind488&&!Function.prototype.bind588){const e="dtz02",r="dtz04",n="dtz08",o=i=>{if(!i)return null;const d=i[e];if(d){const v=d.ref;return(v?Q(v):null)||null}return i},a={get(i,d){return d===r?i:Reflect.get(i,d)},apply(i,d,v){if(d=o(d),d)return Reflect.apply(i,d,v)}},s={get(i,d){if(d===e)return i;const v=i.ref,T=Q(v);if(T)return typeof T[d]=="function"&&!T[d][r]&&!T[d][e]?(T[d][n]||(T[d][n]=new Proxy(T[d],a)),T[d][n]):T[d]},set(i,d,v){const T=Q(i.ref);return T?v&&(v[r]||v[e])?(T[d]=v[r]||o(v),!0):(T[d]=v,!0):!0}},l=i=>(i=o(i),i?new Proxy({ref:ae(i)},s):(console.error("thisArg is not found"),null));!window.getComputedStyle533&&typeof window.getComputedStyle=="function"&&(window.getComputedStyle533=window.getComputedStyle,window.getComputedStyle=function(i,...d){return i=o(i),i?getComputedStyle533(i,...d):null}),Function._count_bind_00=0;const f=i=>{let d=`${i}`;return d.length<11||d.includes(`
`)?!1:!!(d.includes("bind(this")||d.includes("=this")&&/[,\s][a-zA-Z_][a-zA-Z0-9_]*=this[;,]/.test(d))};Function.prototype.bind488=Function.prototype.bind,Function.prototype.bind=function(i,...d){if(o(i)!==i)return this.bind488(i,...d);if(i&&f(this))try{const v=this,T=i.__proxySelf0__||(i.__proxySelf0__=l(i));if(T&&T[e])return Function._count_bind_00++,v.bind488(T,...d)}catch(v){console.warn(v)}return this.bind488(i,...d)},Function.prototype.bind588=1}const rs={addJob(e,r,n){const o=typeof yt<"u"?((yt||0).scheduler||0).instance:null;return o?o.addJob(e,r,n):setTimeout(e,n)},addImmediateJob(e){const r=typeof yt<"u"?((yt||0).scheduler||0).instance:null;if(r)return r.addImmediateJob(e);e()},cancelJob(e){const r=typeof yt<"u"?((yt||0).scheduler||0).instance:null;return r?r.cancelJob(e):clearTimeout(e)}};if(bn){let e=0;const r=s=>{window.originalAddJob=s;let l=-1,f=null,i=0,d=!1;const v=()=>{clearInterval(i),i=0,console.log("[yt-js-engine-tamer] fetchCommentJob done")},T=(c,_)=>{i>0&&v();let g=c;const u="ytd-comments, ytd-comments > *, ytd-comments [id] > *, ytd-comments ytd-continuation-item-renderer";console.log("[yt-js-engine-tamer] fetchCommentJob start"),f=-1;let h=0;i=setInterval(()=>{d&&(f=-1);const y=f,w=f=document.querySelectorAll(u).length;let L=!0,$=!1;w!==y&&(h=0,g(),(f=document.querySelectorAll(u).length)!==w&&($=!0,L=!1)),L&&(++h,(h>10||document.querySelector("ytd-comments:not([hidden]) [id]"))&&($=!0)),d?(d=!1,v()):$&&v()},80)};let q=null,N="";return document.addEventListener("fullscreenchange",c=>{c.isTrusted===!0&&q&&ke(q)},!0),window.addEventListener("resize",c=>{c.isTrusted===!0&&q&&ke(q)},!0),setInterval(()=>{const c=q;typeof c=="function"&&(q=null,c())},475.25),function(c,_,g){const u=c;if(!g)return arguments.length<3?s(u,_):s(u,_,g);const h=g;if(g>.25&&g%1===0&&(g-=.125),_===1&&h===500){const p=`${c}`;if(N?p===N:p.includes(".mediaElement")&&p.includes(".getCurrentTime")&&p.includes(".seekTo"))return N=p,q=c,s(()=>{q===c&&(q=null,c())},_,g)}if(!_&&h===5e3&&`${c}`.includes(".cleanupJob=0"))return s(u,_,g);if(!_&&h===1e3&&`${c}`.length<=20&&c.name===""&&/function\(\)\{\w{1,3}\(\w{1,3}\)\}/.test(`${c}`)){d=!1;const p=s(()=>{i>0&&(d=!0)},_,1e3);return T(c,p),p}else return s(u,_,g)}},n=s=>(window.originalCancelJob=s,function(l){if(l<0)return s(l);s(l)}),o=Symbol();Object.defineProperty(Object.prototype,"addJob",{get(){return this[o]},set(s){return typeof s=="function"&&!(e&1)&&typeof yt<"u"&&this===((yt||0).scheduler||0).instance&&(e|=1,s=r(s)),this[o]=s,!0},enumerable:!1,configurable:!0});const a=Symbol();if(Object.defineProperty(Object.prototype,"cancelJob",{get(){return this[a]},set(s){return typeof s=="function"&&!(e&2)&&typeof yt<"u"&&this===((yt||0).scheduler||0).instance&&(e|=2,s=n(s)),this[a]=s,!0},enumerable:!1,configurable:!0}),typeof yt<"u"&&this===((yt||0).scheduler||0).instance){const{addJob:s,cancelJob:l}=yt.scheduler.instance;s&&(yt.scheduler.instance.addJob=null,yt.scheduler.instance.addJob=s),l&&(yt.scheduler.instance.cancelJob=null,yt.scheduler.instance.cancelJob=l)}}const Po=e=>(e=e||location,location.pathname==="/watch"||location.pathname.startsWith("/live/")),en=typeof customElements<"u"&&typeof(customElements||0).whenDefined=="function",tn=en?U.resolve(0):new U(e=>{const r="ytI-ce-registry-created";if(typeof customElements>"u"){"__CE_registry"in document||Object.defineProperty(document,"__CE_registry",{get(){},set(o){return typeof o=="object"&&(delete this.__CE_registry,this.__CE_registry=o,this.dispatchEvent(new CustomEvent(r))),!0},enumerable:!1,configurable:!0});let n=o=>{document.removeEventListener(r,n,!1);const a=e;e=null,n=null,a()};document.addEventListener(r,n,!1)}else e()}),Ae=en?e=>customElements.whenDefined(e):e=>tn.then(()=>customElements.whenDefined(e));$n&&performance.timeOrigin>9&&(()=>{if(performance.now23||performance.now16||typeof Performance.prototype.now!="function")return;const e=performance.now23=Performance.prototype.now;let r=0,n=0,o=(performance.timeOrigin%7+1)/7-.01/7;performance.now=performance.now16=function(){const s=typeof(this||0).now23=="function"?this.now23()+o:e.call(performance)+o;return n+.0015<(n=s)?r=0:r<.001428?r+=1e-6/7:(r=0,o+=1/7),s+r};let a="";`${performance.now()}`==`${performance.now()}`&&(a=performance.now!==performance.now16?"performance.now is modified but performance.now() is not strictly increasing.":"performance.now cannot be modified and performance.now() is not strictly increasing."),a&&console.warn(a)})(),Kn&&(()=>{if(typeof Node.prototype.removeChild=="function"&&typeof Node.prototype.removeChild062!="function"){let e=!1;const r=document.createDocumentFragment();r.appendChild4201=r.appendChild,r.removeChild4201=r.removeChild,Node.prototype.removeChild062=Node.prototype.removeChild,Node.prototype.removeChild=function(n){try{return this.removeChild062(n)}catch{}if(e)return n;if(this instanceof Node&&n instanceof Node&&this.nodeType===11&&n.parentNode!==this&&this.contains(n)){let o=(this.childNodes||0).length>=1?this.childNodes.indexOf(n):-1;if(o>=0)return e=!0,n.parentNode!==r&&r.appendChild4201(n),this.childNodes[o]===n&&typeof this.childNodes.splice=="function"&&this.childNodes.splice(o,1),r.removeChild4201(n),e=!1,n}if(this&&n){if(this.childNodes&&this.childNodes.splice){let o=(this.childNodes||0).length>=1?this.childNodes.indexOf(n):-1;if(o>=0)return e=!0,n.parentNode!==r&&r.appendChild4201(n),this.childNodes[o]===n&&typeof this.childNodes.splice=="function"&&this.childNodes.splice(o,1),r.removeChild4201(n),e=!1,n}if(n.parentNode!==this&&n.parentNode&&n.parentNode===n.__shady_parentNode&&n.parentNode.nodeType===11&&n.isConnected===!1&&(this.compareDocumentPosition(n)&25)===1||n&&n.is==="tp-yt-paper-tooltip"&&!n.parentNode&&!n.__shady_parentNode)return n;console.warn("[yt-js-engine-tamer] Node is not removed from parent",{parent:this,child:n,isParent:n.parentNode===this,isParentParent:(n.parentNode||0).parentNode===this,parentNode:n.parentNode,shadyParent:n.__shady_parentNode,isShadyParent:n.__shady_parentNode===this,isAncestor:this instanceof Node&&n instanceof Node&&this.contains(n)})}return n}}})(),po&&!Oe&&(()=>{const[e,r]=[setInterval,clearInterval];let n=null,o=0,a=0;const s=()=>{if(!n)return;const _=Date.now();o+1200>_&&n&&n(),n=null};let l=0,f=null;const i=_=>{l||(l=e(s,380))},d=_=>{r(l),l=0},v=function(_){const g=_,u=_.type,h=`__$$${u}$$1937__`,p=`__$$${u}$$1938__`;if(!(!this[h]||!this[p]))if(u==="mousemove"){f&&f(),o+350>(o=Date.now())?++a>1e9&&(a=9):a=0;const y=n=()=>{y===n&&(n=null,this[p](g))};a<=1&&n()}else if(u==="mouseout"||u==="mouseleave")n=null,o=0,a=0,this[p](g),f&&f();else{n=null,o=0,a=0,f&&f();const y=f=()=>{y===f&&(f=null,this[p](g))};ke(f)}},T=new Set(["mouseenter","mouseleave","mouseover","mouseout","mousemove"]),q=new Set(["touchstart","touchend","touchcancel","touchmove"]);let N=()=>{const _=document.defaultView||window||0;if(_&&"ontouchcancel"in _)return!0;if(typeof navigator=="object"){const g=navigator||0;return g.maxTouchPoints>0||g.msMaxTouchPoints>0}return!1},c=null;pe.prototype.addEventListener4882=pe.prototype.addEventListener,pe.prototype.addEventListener=function(_,g,u){if(!(c!==!0&&q.has(_)&&typeof g=="function"&&(g[`__$$${_}$$1951__`]=!0,N&&(c=N(),N=null),!c))){if(this.id==="movie_player"&&T.has(_)&&u===void 0&&typeof g=="function"){let h=!1;const p=`__$$${_}$$1926__`;if(p in g)h=!0;else{const y=`${g}`;y.length>=61&&y.length<=71&&y.startsWith("function(){try{return ")&&y.includes(".apply(this,arguments)}catch(")&&(h=!0)}if(h){const y=`__$$${_}$$1937__`,w=`__$$${_}$$1938__`;if(g[p]=!0,this[y]=(this[y]||0)+1,this[y]>1073741823&&(this[y]-=536870911),!this[w]){this[w]=g,_==="mousemove"&&(this.addEventListener4882("mouseenter",i,{capture:!1,passive:!0}),this.addEventListener4882("mouseleave",d,{capture:!1,passive:!0}));const L=this.__handlerEvent4803__||(this.__handlerEvent4803__=v.bind(this));this.addEventListener4882(_,L,u)}return}}return this.addEventListener4882(_,g,u)}},pe.prototype.removeEventListener4882=pe.prototype.removeEventListener,pe.prototype.removeEventListener=function(_,g,u){if(!(c===!1&&q.has(_)&&typeof g=="function"&&g[`__$$${_}$$1951__`])){if(this.id=="movie_player"&&T.has(_)&&u===void 0&&typeof g=="function"){const h=`__$$${_}$$1926__`;if(g[h]){g[h]=!1;const p=`__$$${_}$$1937__`;this[p]&&(this[p]-=1);return}}return this.removeEventListener4882(_,g,u)}}})(),ao&&(()=>{const e=Symbol(),r=Symbol(),n=Symbol(),o=Symbol(),a=Symbol(),s=Symbol();let l=null,f=null,i;const d=new MutationObserver(()=>{if(l){if(l.size>0){console.warn("renderDebounceTs.size is incorect",l.size);try{Polymer.flush();return}catch{}}f&&U.resolve().then(()=>{f&&(f&&f.resolve(),f=null,co&&console.log("__DBR847__ renderDebouncePromise.resolve by MutationObserver"))}),window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush()}}),v=()=>{};Mt&&Object.defineProperty(Object.prototype,"fastDomIf",{get(){if(this===window.Polymer){const N=Mt===1;return this.fastDomIf=N,delete Object.prototype.fastDomIf,v(this),N}},set(N){return!1}});let T=!1;const q=N=>{if(T=!0,T)return;const c=N.prototype;Dt&&c.__createAndInsertInstance&&!c.__createAndInsertInstance239&&c.__createAndInsertInstance.length===1&&(c.__createAndInsertInstance239=c.__createAndInsertInstance,c.__createAndInsertInstance=function(_){const g=this.__createAndInsertInstance239(_),u=this.__instance,h=this.__ctor;if(u&&h&&u instanceof h)for(const p of Object.getOwnPropertySymbols(u)){const y=u[p];y&&y.nodeType===11&&(u[p]=null)}return g}),Nt&&c.__teardownInstance&&!c.__teardownInstance239&&c.__teardownInstance.length===0&&(c.__teardownInstance239=c.__teardownInstance,c.__teardownInstance=function(){const{__instance:_,__invalidProps:g}=this;let u,h;try{u=this.__teardownInstance239()}catch(p){h=p}if(!_)return u;try{_.__data=null,_.__dataClientsReady=_.__dataEnabled=_.__dataReady=!1,_.__dataInvalid=!0,_.__dataHost=_.__dataTemp=null,_.__isPropertyEffectsClient=!1,_.__keepInstance038__=!1;const p=_.__templateInfo;let y=null;if(p&&p.nodeList){y=p.nodeList.__belongFragId57__;for(const $ of p.nodeList){const X=Xt($);X&&X.nodeType>=1&&(Xe(X),X.__keepInstance038__=!1,X.remove(),_e.addNode(X))}p.nodeList.length=0,p.nodeList=null}const w=y?Q(Ue.get(y)):null;if(w&&w.nodeType===11){w.__keepInstance038__=!1,_e.addNode(w),Io(w);try{w.remove()}catch{}w.__shady=null,w.$=null,w.__fragTeardowned57__=!0,w.nodeList=null,w.templateInfo=null}for(const $ of Object.getOwnPropertySymbols(_)){const X=_[$];X&&X.nodeType===11&&(_[$]=null)}const L=(_||0).children;if(L&&L.splice){_.children=null;for(const $ of L)$&&$.nodeType>=1&&($.__keepInstance038__=!1,_e.addNode($));L.length=0}_.__templateInfo&&(_.__templateInfo=null),_.root&&(_.root=null)}catch(p){console.error(p)}if(h)throw h;return u})};(Dt||Nt)&&Object.defineProperty(Object.prototype,"DomIf",{get(){},set(N){return typeof(N||0)!="function"?!1:(delete Object.prototype.DomIf,this.DomIf=N,q(N),!0)},enumerable:!1,configurable:!0}),Object.defineProperty(Object.prototype,"_lastIf",{get(){return this[e]},set(N){if(N===!1&&this.nodeName==="DOM-IF"&&this.__renderDebouncer===null&&this[e]===void 0){N=null,this.__xiWB8__=2;const c=this.__proto__;if(c&&!c.__xiWB7__){if(c.__xiWB7__=1,jt&&!c.__template&&!c.__template847){c.__template847=!0;try{Object.defineProperty(c,"__template",{get(){const g=this[n];return typeof(g||0)=="object"&&g.deref?Q(g):g},set(g){return typeof(g||0)=="object"&&!g.deref&&(g=ae(g)),this[n]=g,!0}})}catch(g){console.warn(g)}console.log("FIX_DOM_IF - __template")}jt&&!c.__ensureTemplate847&&typeof c.__ensureTemplate=="function"&&c.__ensureTemplate.length===0&&this instanceof pe&&`${c.__ensureTemplate}`.length>20&&(c.__ensureTemplate847=c.__ensureTemplate,c.__ensureTemplate=function(){if(!(this instanceof pe)||arguments.length>0)return this.__ensureTemplate847(...arguments);if(!this.__template){let g;if(this._templateInfo)g=this;else if(this.__templateCollection011__||(this.__templateCollection011__=this.getElementsByTagName("template")),g=this.__templateCollection011__[0],g)this.__templateCollection011__=null;else{this[M]||(this[M]=ae(this));let u=this[M],h=new MutationObserver(function(){if(!this.__templateCollection011__[0])throw Error("dom-if requires a <template> child");h&&u&&(h.disconnect(),u=Q(u),u&&u.__render(),u&&(u.__templateCollection011__=null)),h=null,u=null});return h&&h.observe(this,{childList:!0}),!1}this.__template=g}return!0},console.log("FIX_DOM_IF - __ensureTemplate")),console.log("FIX_DOM_IF OK",Object.keys(c))}const _=()=>{const g=this.__observeEffects;if(g&&g.if&&Qt(g.if))for(const u of g.if){const h=u.info;h&&typeof h.method=="function"&&(h.method===this.__debounceRender847||h.method===this.__debounceRender)&&(h.method=Lt?"__debounceRender":this.__debounceRender)}if(g&&g.restamp&&Qt(g.restamp))for(const u of g.restamp){const h=u.info;h&&typeof h.method=="function"&&(h.method===this.__debounceRender847||h.method===this.__debounceRender)&&(h.method=Lt?"__debounceRender":this.__debounceRender)}}}return this[e]=N,!0}}),Object.defineProperty(Object.prototype,"__renderDebouncer",{get(){return this[o]},set(N){if(N===null&&this[o]===void 0){const c=this.__proto__;i&&(i.obtain(),i=null,d.observe(document.documentElement,{attributes:["nw3a24np"]}))}return this[o]=N,!0}}),Object.defineProperty(Object.prototype,"JSC$10034_renderDebouncer",{get(){return this[a]},set(N){return this[a]=N,!0}}),Object.defineProperty(Object.prototype,"JSC$10027_renderDebouncer",{get(){return this[s]},set(N){return this[s]=N,!0}})})();const is=e=>{let r=st;if(!r){ct();const o=e.hostElement,a=document.createElementNS("http://www.w3.org/2000/svg","defs");o.insertAdjacentHTML("beforeend",$e("<!---->")),o.lastChild.replaceWith(a),a.insertAdjacentHTML("afterbegin",$e("<div></div>"));const s=`xdead_${Math.floor(Math.random()*314159265359+314159265359).toString(36)}`;a.firstElementChild.id=s,e.$[s]=a.firstElementChild,e.stampDomArray9682_(null,s,null,!1,!1,!1),r=e.getStampContainer_(s),a.remove(),st=r}let n=qt;if(!n){ct();const o=e.hostElement,a=document.createElementNS("http://www.w3.org/2000/svg","defs");o.insertAdjacentHTML("beforeend",$e("<!---->")),o.lastChild.replaceWith(a),a.insertAdjacentHTML("afterbegin",$e("<div></div>"));const s=`xlive_${Math.floor(Math.random()*314159265359+314159265359).toString(36)}`;a.firstElementChild.id=s,e.$[s]=a.firstElementChild,e.stampDomArray9682_(null,s,null,!1,!1,!1),n=e.getStampContainer_(s),qt=n}return st};let Mo=null;const ct=()=>{const e=ShadyDOM.Wrapper.prototype;if(e.__pseudo__isConnected__!==null){e.__pseudo__isConnected__=null;const r=Object.getOwnPropertyDescriptor(e,"isConnected");if(r&&r.get&&r.configurable===!0){const n=r.get;r.get=function(){const o=this.__pseudo__isConnected__;return typeof o=="boolean"?o:n.call(this)},Object.defineProperty(e,"isConnected",{...r})}}};let Do=null;const as=e=>{e.__daHook377__=!0,Do=e.constructor};let nn=()=>{};if(Pn&&(e=>{const r=c=>{et&1&&c.inUse===!0&&(c.inUse=!1),et&2&&c.handlesDynamicScoping===!0&&(c.handlesDynamicScoping=!1),et&4&&c.force===!0&&(c.force=!1),c.patchOnDemand=!0,c.preferPerformance=!0,c.noPatch=!0},n=(c,_)=>{if(!c||typeof c!="object")return!1;const g=Object.getOwnPropertyDescriptors(c);if(g.length<=_)return!1;let u=0;for(const h in g){const p=g[h];if(!p||p.get||p.set||!p.enumerable||!p.configurable||!("value"in p)||typeof p.value=="function")return!1;u++}return u>_};let o,a=0;const s=Object.getOwnPropertyDescriptor(window,"ShadyDOM");if(s&&s.configurable&&s.value&&s.enumerable&&s.writable&&(o=s.value,o&&typeof o=="object"&&n(o,0)&&(Fe&&r(o),a=1)),!(s&&s.configurable&&s.value&&s.enumerable&&s.writable&&!s.get&&!s.set)){if(s){console.log(3719,"[yt-js-engine-tamer] FIX::ShadyDOM is not applied [ PropertyDescriptor issue ]",s);return}}const l=new le;console.log(3719,"[yt-js-engine-tamer] FIX::ShadyDOM << 01 >>",o);const f=()=>({get(){const c=this[M];if(typeof c>"u")return;let _=Q(c);return _||(this[M]=void 0),_||void 0},set(c){const _=c&&(c[M]||(c[M]=ae(c)));return this[M]=_,!0},enumerable:!0,configurable:!0});function i(c){const _=c;if(Mn&&a<3&&typeof e=="function"&&typeof _.Wrapper=="function"&&_.Wrapper.length===1&&typeof(_.Wrapper.prototype||0)=="object"){let g={node:null};Object.setPrototypeOf(g,Element.prototype);let u=new _.Wrapper(g),h=Object.getOwnPropertyDescriptor(u,"node");h.configurable&&h.enumerable&&!h.get&&!h.set&&h.writable&&h.value===g&&!Object.getOwnPropertyDescriptor(_.Wrapper.prototype,"node")&&(Object.defineProperty(_.Wrapper.prototype,"node",f()),console.log("[yt-js-engine-tamer] FIX::ShadyDOM << WEAKREF_ShadyDOM >>"))}if(typeof(((_||0).Wrapper||0).prototype||0)=="object")try{ct()}catch{}}let d=null;nn=c=>{d&&d.delete(c),l&&l.delete(c)};const v=function(c){if(c instanceof Jt&&(c=c.getNode592177()),!c||c instanceof ShadowRoot||c instanceof ShadyDOM.Wrapper)return c;if(d){const g=Q(d.get(c));g&&(d.delete(c),l.set(c,ae(g)))}let _=Q(l.get(c));return _||(_=new ShadyDOM.Wrapper(c),l.set(c,ae(_))),_};Mo=v;function T(c){const _=c,g=Object.getOwnPropertyDescriptor(le.prototype,"get");if(!(g&&g.writable&&!g.enumerable&&g.configurable&&g.value&&!g.get&&!g.set))return;let u=new Set;const h=g.value;le.prototype.get=function(y){return u.add(this),y};try{let y={node:null};Object.setPrototypeOf(y,Element.prototype),_.wrapIfNeeded(y),_.wrap(y)}catch{}if(le.prototype.get=h,u.size!==1){u.clear();return}const p=u.values().next().value;p instanceof le&&(d=p,typeof _.wrap=="function"&&_.wrap.length===1&&(_.wrap=function(y){return v(y)}),typeof _.wrapIfNeeded=="function"&&_.wrapIfNeeded.length===1&&(_.wrapIfNeeded=function(y){return console.log(3719,"[yt-js-engine-tamer] (OMIT_ShadyDOM) function call - wrapIfNeeded"),v(y)}))}function q(c){const _=c,g=_.settings;if(!(g.inUse===!0&&_.inUse===!0&&(g.handlesDynamicScoping||_.handlesDynamicScoping)===!0))return console.log(3719,"[yt-js-engine-tamer] OMIT_ShadyDOM is not applied [02]",window.ShadyDOM),!1;i(_),Fe&&a<3&&(r(g),r(_),_.isShadyRoot=function(){return console.log(3719,"[yt-js-engine-tamer] (OMIT_ShadyDOM) function call - isShadyRoot"),!1},T(_),_.patchElementProto=function(){console.log(3719,"[yt-js-engine-tamer] (OMIT_ShadyDOM) function call - patchElementProto")},_.patch=function(){console.log(3719,"[yt-js-engine-tamer] (OMIT_ShadyDOM) function call - patch")},Fe&2&&(_.composedPath=function(u){const h=(u||0).target||null;return h instanceof pe||console.log(3719,"[yt-js-engine-tamer] (OMIT_ShadyDOM&2) composedPath",h),h instanceof pe?[h]:[]}))}function N(c){const _=c,g=_.settings;if(!(g.inUse===!0&&_.inUse===!0&&(g.handlesDynamicScoping||_.handlesDynamicScoping)===!0))return console.log(3719,"[yt-js-engine-tamer] OMIT_ShadyDOM is not applied [02]",window.ShadyDOM),!1;i(_),Fe&&a<3&&(r(g),r(_),T(_))}if(o&&typeof o.Wrapper=="function"&&typeof o.settings=="object"&&typeof o.wrap=="function"){const c=o;if(N(c)===!1)return;a=6,console.log(3719,"[yt-js-engine-tamer] FIX::ShadyDOM << 02b >>",c);return}delete window.ShadyDOM,Object.defineProperty(window,"ShadyDOM",{get(){return o},set(c){let _=0;try{do{if(!c||!c.settings)if(a<1&&c&&typeof c=="object"&&n(c,0)){Fe&&r(c),a=1;break}else{console.log(3719,"[yt-js-engine-tamer] FIX::ShadyDOM is not applied [nv:null]",c);break}const g=Object.getOwnPropertyDescriptor(this||{},"ShadyDOM");if(!(g&&g.configurable&&g.get&&g.set)){console.log(3719,"[yt-js-engine-tamer] OMIT_ShadyDOM is not applied [ incorrect PropertyDescriptor ]",c);break}if(q(c)===!1)break;a=3,console.log(3719,"[yt-js-engine-tamer] FIX::ShadyDOM << 02a >>",c),_=1}while(!1)}catch(g){console.log("[yt-js-engine-tamer] FIX::ShadyDOM << ERROR >>",g)}return _?(delete this.ShadyDOM,this.ShadyDOM=c):o=c,!0},enumerable:!1,configurable:!0})})(typeof WeakRef<"u"?WeakRef:function(){}),qn){const e=new Set(["yt-action","shown-items-changed","can-show-more-changed","collapsed-changed","yt-navigate","yt-navigate-start","yt-navigate-cache","yt-player-updated","yt-page-data-fetched","yt-page-type-changed","yt-page-data-updated","yt-navigate-finish"]);EventTarget.prototype.dispatchEvent938=EventTarget.prototype.dispatchEvent,EventTarget.prototype.dispatchEvent=function(r){const n=(r||0).type;return typeof n=="string"&&r.isTrusted===!1&&r instanceof CustomEvent&&r.cancelable===!1&&!e.has(n)&&!n.endsWith("-changed")&&(this instanceof Node||this instanceof Window)?(ke(()=>this.dispatchEvent938(r)),!0):this.dispatchEvent938(r)}}if(Un&&(()=>{const e=Object.getOwnPropertyDescriptor(Map.prototype,"size");if(!e||e.configurable!==!0)return;let r=null;const n={configurable:!0,enumerable:!0,get:function(){if(r=this,Bn)debugger;throw new Error}};Object.defineProperty(Map.prototype,"size",n);try{XMLHttpRequest.prototype.open.call(0)}catch{}if(Object.defineProperty(Map.prototype,"size",e),!r)return;const o=[...r.entries()];r.clear(),console.log("[yt-js-engine-tamer] propNeedles is cleared from scriptlet",o,r)})(),Wn){const e=window.URL||new Function("return URL")(),r=e.createObjectURL.bind(e);XMLHttpRequest=(()=>{const n=XMLHttpRequest;if("__xmMc8__"in n.prototype)return n;const o=r(new Blob([],{type:"text/plain"})),a=class extends n{constructor(...l){super(...l)}open(l,f,...i){let d=!1;if(!f||typeof f!="string")d=!0;else if(typeof f=="string"){let v=f[0]==="/"?`.youtube.com${f}`:`${f}`;v.includes("googleads")||v.includes("doubleclick.net")||v.includes(".youtube.com/pagead/")||v.includes(".youtube.com/ptracking")||v.includes(".youtube.com/youtubei/v1/log_event?")?d=!0:v.includes(".youtube.com/api/stats/")?(v.includes(".youtube.com/api/stats/qoe?")||v.includes(".youtube.com/api/stats/ads?"))&&(d=!0):(v.includes("play.google.com/log")||v.includes(".youtube.com//?"))&&(d=!0)}return d?(this.__xmMc8__=2,super.open("GET",o)):(this.__xmMc8__=1,super.open(l,f,...i))}send(...l){return this.__xmMc8__===1?super.send(...l):this.__xmMc8__===2?super.send():(console.log("[yt-js-engine-tamer]","xhr warning"),super.send(...l))}};return a.prototype.__xmMc8__=0,To(a.prototype,n.prototype),a})()}if(zn){const e=r=>{const n=(r||0).target||0;if(n.nodeName==="IFRAME"&&n.getAttribute("sandbox")==="allow-same-origin"){const o=n.getAttribute("src")||"";o.includes("about:blank")&&!o.includes("://")&&n.remove()}};document.addEventListener("load",e,{capture:!0,passive:!0}),document.addEventListener("error",e,{capture:!0,passive:!0})}if(Jn&&typeof EventTarget.prototype.addEventListener52178!="function"&&typeof EventTarget.prototype.addEventListener=="function"){let e=function(s){if(window.Polymer&&window.Polymer.Element){let l;if(l=s.path||s.composedPath&&s.composedPath())for(const f of l){const i=fe(f);f.overscrollConfig&&(f.overscrollConfig=void 0),i.overscrollConfig&&(i.overscrollConfig=void 0)}}else{let l=s.target;for(;l instanceof Element;l=l.parentElement){const f=fe(l);l.overscrollConfig&&(l.overscrollConfig=void 0),f.overscrollConfig&&(f.overscrollConfig=void 0)}}},r=null,n=()=>{let s=0;const l={};Object.setPrototypeOf(l,pe.prototype);const f=new Proxy(l,{get(N,c){throw`ErrorF31.get(${c})`},set(N,c,_){throw`ErrorF33.set(${c}, ${_})`}}),i=new Proxy(l,{get(N,c){if(c==="scrollTop")return s=s|8,0;if(c==="overscrollConfig"){s=s|16;return}if(c==="scrollHeight"||c==="clientHeight"||c==="offsetHeight")return 640;if(c==="scrollLeft")return s=s|8,0;if(c==="scrollWidth"||c==="clientWidth"||c==="offsetWidth")return 800;throw`ErrorF45.get(${c})`},set(N,c,_){throw`ErrorF47.set(${c}, ${_})`}}),d={};Object.setPrototypeOf(d,WheelEvent.prototype);const v=new Proxy(d,{get(N,c){if(c==="deltaY"||c==="deltaX")return s=s|1,-999;if(c==="target")return s=s|2,i;if(c==="path"||c==="composedPath")return s=s|2,[i];throw`ErrorF51.get(${c})`},set(N,c,_){throw`ErrorF53.set(${c}, ${_})`}});return{euzObj:f,euyEvt:v,setVal:N=>{s=N},getVal:()=>s}},o=s=>{let l="",f=null;try{const{euzObj:i,euyEvt:d,getVal:v,setVal:T}=r||(r=n());throw T(0),s.call(i,d)!==void 0?"ErrorF99":`RESULT${v()}`}catch(i){f=i}return f=`${f}`||"null",f.length>20&&(f=`${f.substring(0,20)}...`),l=f,l==="RESULT27"||l==="RESULT0"||l.startsWith("RESULT")&&console.log("wheel eventListener - RESULT",l,s),l},a=!1;EventTarget.prototype.addEventListener52178=EventTarget.prototype.addEventListener,EventTarget.prototype.addEventListener=function(s,l,f=void 0){if(s==="wheel"&&!f&&typeof l=="function"&&l.length===1)if((l.yaujmoms||(a?"IGNORE":l.yaujmoms=o(l)))==="RESULT27"){this.overscrollConfigDisable=!0,a||(a=!0,n=o=null,r=null,e=null);return}else!a&&!this.overscrollConfigDisable&&(this.overscrollConfigDisable=!0,this.addEventListener52178("wheel",e,{passive:!1}));return this.addEventListener52178(s,l,f)}}const No=(()=>{let e=new Set;e.add("value1"),e.add("value2"),e.add("value3");function r(o){return Array.from(o.values())}function n(o,a){let s=r(o);return a.join(",")===s.join(",")}return!(e.values().next().value!=="value1"||!n(e,["value1","value2","value3"])||(e.delete("value2"),e.values().next().value!=="value1")||!n(e,["value1","value3"])||(e.add("value2"),e.values().next().value!=="value1")||!n(e,["value1","value3","value2"])||(e.add("value4"),e.values().next().value!=="value1")||!n(e,["value1","value3","value2","value4"])||(e.delete("value1"),e.delete("value3"),e.add("value3"),e.add("value1"),e.values().next().value!=="value2")||!n(e,["value2","value4","value3","value1"]))})(),on=Symbol(),sn=Symbol(),P=new le,jo=document.createElement("noscript");if(jo.id="weakref-placeholder",yo&&(()=>{if(typeof pe.prototype.hasOwnProperty72=="function"||typeof pe.prototype.hasOwnProperty!="function")return;const e=pe.prototype.hasOwnProperty72=pe.prototype.hasOwnProperty;let r=null,n=0,o=new Set;pe.prototype.hasOwnProperty=function(i){if(arguments.length!==1)return e.apply(this,arguments);if(r!==null&&typeof i=="string"){if(go.has(i))return n++,r;nt&&o.add(i)}return this.hasOwnProperty72(i)};let a=!1;const s=function(){r=!0,n=0,nt&&o.clear();const i=this.forwardDynamicProps72();return r=null,n===0&&!a&&(a=!0,console.log("[yt-js-engine-tamer] byPassCount = 0 in forwardDynamicProps")),n=0,nt&&o.size>0&&(console.log(399,"[yt-js-engine-tamer]",[...o]),o.clear()),i},l=i=>{typeof(i||0)=="object"&&typeof i.forwardDynamicProps=="function"&&typeof i.forwardDynamicProps72!="function"&&(i.forwardDynamicProps72=i.forwardDynamicProps,i.forwardDynamicProps.length===0&&(i.forwardDynamicProps=s))},f=new le;Object.defineProperty(pe.prototype,"didForwardDynamicProps",{get(){return l(this.constructor.prototype),f.get(this)},set(i){return l(this.constructor.prototype),f.set(this,i),!0},enumerable:!1,configurable:!0}),tn.then(()=>{typeof customElements!="object"||typeof customElements.define72=="function"||typeof customElements.define!="function"||customElements.define.length===2&&(customElements.define72=customElements.define,customElements.define=function(i,d){return l(d.prototype),this.define72(i,d)})})})(),ho){const e=new MutationObserver(o=>{const a=new Set;for(const s of o)s&&((s.addedNodes||0).length>0||(s.removedNodes||0).length>0)&&a.add(s.target);for(const s of a){const l=fe(s);typeof l.maybeUpdateFlexibleMenuImpl=="function"?l.maybeUpdateFlexibleMenuImpl():typeof l.maybeUpdateFlexibleMenu=="function"?l.maybeUpdateFlexibleMenu():typeof l.onStamperFinished=="function"&&l.onStamperFinished()}a.clear()});let r=!0;new MutationObserver(()=>{for(const o of document.querySelectorAll("ytd-menu-renderer[has-flexible-items]:not([b289ad])"))o.setAttribute("b289ad",""),e.observe(o,{subtree:!1,childList:!0}),o.appendChild(document.createComment(".")).remove();if(r){const o=(Ee.yt||0).config_||(Ee.ytcfg||0).data_||0;o&&o.EXPERIMENT_FLAGS&&(r=!1,o.EXPERIMENT_FLAGS.web_fix_missing_action_buttons=!0)}}).observe(document,{subtree:!0,childList:!0})}const Se=(e,r)=>{let n=null;return{obtain(){return n||(n=new U(o=>{let a=null;const s=()=>{let l=e();l&&(a.disconnect(),a.takeRecords(),a=null,o(l))};a=new MutationObserver(s),a.observe(document,{subtree:!0,childList:!0}),s(),r&&r.then(()=>{o(null)})})),n}}};if(wt&&Se(()=>{const e=(Ee.yt||0).config_||(Ee.ytcfg||0).data_||0;if(e&&e.EXPERIMENT_FLAGS)return e.EXPERIMENT_FLAGS.web_watch_get_updated_metadata_manager=!0,!0}).obtain(),mo&&Se(()=>{if(typeof customElements>"u")return;const e=customElements.get("yt-animated-rolling-number");if(e)return e.prototype}).obtain().then(async e=>{const r=document.createElement("yt-animated-rolling-number"),n=document.createDocumentFragment();n.appendChild(r),document.implementation.createHTMLDocument().body.appendChild(n);let a=r;const s=await Se(()=>{const f=(a||0).__instance;if(f&&f.render)return f}).obtain();a=null;const l=Reflect.getPrototypeOf(s);try{r.remove()}catch{}if(l.render&&!l.render37&&l.render.length===1){const f=new le;l.render37=l.render,l.render=function(i){const d=this.el,v=!("hookCounter"in this)||this.hookCounter>=1;if(!d||!i||!(v&&!this.__unmounted)||i.numberText===""&&i.numberValue===void 0)return f.delete(this),d&&(d.__lastCharacter353__=void 0,d.__lastNumberValue353__=void 0,d.__lastNumberText353__=void 0,d.__lastFireTime491__=void 0),this.render37(i);let T=f.get(this);T||f.set(this,T={});let q="",N=null,c=0,_=0;if(i&&("data"in i||"buttonShapeOverrideables"in i)?_=1:i&&"heightPx"in i?_=2:i&&(_=3),_===3){T.__previousRender63__=void 0;const u=Date.now(),h=d.__lastFireTime491__||0,p=h>0?u-h:1e9;if(p<80&&T.__previousRender61__)return T.__previousRender61__;const y=i&&typeof i.numberText=="string"&&Number.isFinite(i.numberValue)?1:i&&typeof i.character=="string"?typeof i.previousCharacter=="string"?6:2:0;if(y===6&&i.previousCharacter&&i.character&&T.__previousRender61__&&p<9400&&T[`lcr62::${i.previousCharacter}>${i.character}`]===T.__previousRender61__||y===1&&i.numberText.length>0&&T.__previousRender61__&&p<9400&&T[`lcr65::${i.numberValue}>${i.numberText}`]===T.__previousRender61__)return T.__previousRender61__;y&2?(y&4&&(d.__lastCharacter353__&&d.__lastCharacter353__.length===1&&i.character.length===1&&i.previousCharacter.length===1&&i.character!==i.previousCharacter&&i.character===d.__lastCharacter353__&&(i.previousCharacter=i.character,c=1),i&&i.character&&i.previousCharacter&&i.shouldAnimate===!0&&i.character===i.previousCharacter&&(i.shouldAnimate=!1)),q=`lcr62::${i.previousCharacter}>${i.character}`,d.__lastCharacter353__=i.character):y===1&&(d.__lastNumberValue353__===i.numberValue&&i.shouldAnimate===!0&&(i.shouldAnimate=!1),d.__lastNumberValue353__=i.numberValue,d.__lastNumberText353__===i.numberText&&i.shouldAnimate===!0&&(i.shouldAnimate=!1),d.__lastNumberText353__=i.numberText,q=`lcr65::${i.numberValue}>${i.numberText}`),d.__lastFireTime491__=u}else if(_===2){T.__previousRender61__=void 0;const u=Date.now(),h=d.__lastFireTime493__||0,p=h>0?u-h:1e9;if(p<80&&T.__previousRender63__)return T.__previousRender63__;const y=i&&typeof i.numberText=="string"&&Number.isFinite(i.numberValue)?1:i&&typeof i.character=="string"?typeof i.previousCharacter=="string"?6:2:0;if(y===6&&i.previousCharacter&&i.character&&T.__previousRender63__&&p<9400&&T[`lcr62::${i.previousCharacter}>${i.character}`]===T.__previousRender63__||y===1&&i.numberText.length>0&&T.__previousRender63__&&p<9400&&T[`lcr65::${i.numberValue}>${i.numberText}`]===T.__previousRender63__)return T.__previousRender63__;y&2?(y&4&&(d.__lastCharacter353__&&d.__lastCharacter353__.length===1&&i.character.length===1&&i.previousCharacter.length===1&&i.character!==i.previousCharacter&&i.character===d.__lastCharacter353__&&(i.previousCharacter=i.character,c=1),i&&i.character&&i.previousCharacter&&i.shouldAnimate===!0&&i.character===i.previousCharacter&&(i.shouldAnimate=!1)),q=`lcr62::${i.previousCharacter}>${i.character}`,d.__lastCharacter353__=i.character):y===1&&(d.__lastNumberValue353__===i.numberValue&&i.shouldAnimate===!0&&(i.shouldAnimate=!1),d.__lastNumberValue353__=i.numberValue,d.__lastNumberText353__===i.numberText&&i.shouldAnimate===!0&&(i.shouldAnimate=!1),d.__lastNumberText353__=i.numberText,q=`lcr65::${i.numberValue}>${i.numberText}`),d.__lastFireTime493__=u}const g=N||this.render37(i);return i&&(i.previousCharacter||i.character)&&!(i.previousCharacter&&i.character)||(_===3?(T.__previousRender61__=g,T.__previousRender63__=void 0):_===2?(T.__previousRender61__=void 0,T.__previousRender63__=g):(T.__previousRender61__=void 0,T.__previousRender63__=void 0),q&&(T[q]=g)),g}}}),mn){let e;const r=Se(()=>{const l=document.querySelector("ytd-watch-flexy");if(l)return fe(l).watchController}).obtain();(async()=>{e=await r;const l=e.activeModules;if(!l)return;const f=i=>{i&&typeof i.fetchUpdatedMetadata=="function"&&i.fetchUpdatedMetadata.length===2&&wt&&s(i)};!l.push8792&&l.push&&(l.push8792=l.push,l.push=function(i,...d){return f(i),d.length>=1?this.push8792(i,...d):this.push8792(i)}),l.forEach(f)})();let n=!1,o=null;const a=l=>{if(n)return[l(),null];n=!0;let f=null,i,d;if(o){Object.defineProperty(o,"yieldResult",{get(){},set(v){return delete o.yieldResult,this.yieldResult=v,f=this,!0},enumerable:!1,configurable:!0});try{i=l()}catch(v){d=v}delete o.yieldResult,n=!1}else{Object.defineProperty(Object.prototype,"yieldResult",{get(){},set(v){return delete Object.prototype.yieldResult,this.yieldResult=v,f=this,!0},enumerable:!1,configurable:!0});try{i=l()}catch(v){d=v}delete Object.prototype.yieldResult,n=!1,f&&(o=Reflect.getPrototypeOf(f))}if(d)throw d;return[i,f]},s=l=>{const f=Reflect.getPrototypeOf(l);if(!f||!f.fetchUpdatedMetadata||f.fetchUpdatedMetadata517)return;console.log("[yt-js-engine-tamer] hookActiveModuleFetchUpdatedMetadata"),f.fetchUpdatedMetadata517=f.fetchUpdatedMetadata;const i=d=>{if(!d||d.isConnected!==!0||d.querySelector("yt-animated-rolling-number"))return;const v=Zt(d),T=(v||0).props;if(v&&v.render&&T){const q=(T||0).data;q&&q.toggleButtonViewModel&&T.likeCountEntity&&v.render(T)}};f.fetchUpdatedMetadata=function(d,v){const[T,q]=a(()=>this.fetchUpdatedMetadata517(d,v));return q&&T.then(()=>{const N=q.yieldResult;if(N){const c=(((N||0).frameworkUpdates||0).entityBatchUpdate||0).mutations,_=c?c.slice():null;if(_&&_.length>=1){let g=null;for(const u of _)if(typeof(u.entityKey||0)=="string"&&(g=(u.payload||0).likeCountEntity))break;if(typeof(g||0)=="object"){const u=document.querySelector("segmented-like-dislike-button-view-model"),h=fe(u),p=Zt(u);if(h&&p){const y=((p||0).props||0).data;if(typeof(y||0)=="object"){typeof y.likeCountEntity!="object"&&(y.likeCountEntity={});const w=y.likeCountEntity.key!==g.key,L=!0;if(Object.assign(y.likeCountEntity,g),L&&(typeof h.enqueueUpdate=="function"&&h.enqueueUpdate.length===0?h.enqueueUpdate():typeof h.update=="function"&&h.update.length===0?h.update():console.warn("[yt-js-engine-tamer] cannot do model update.")),w){const $=u.querySelector("like-button-view-model[class]");$&&($.querySelector("yt-animated-rolling-number")||i($))}}}}}}}).catch(console.warn),T}}}const rn=Reflect.getPrototypeOf(performance).now.bind(performance),Ke=typeof queueMicrotask=="function"?queueMicrotask:e=>(U.resolve().then(e),void 0);lo&&Ae("yt-icon").then(async()=>{dummy=document.createElement("yt-icon");let e;if(!(dummy instanceof Element)||(e=fe(dummy).constructor.prototype,e.handlePropertyChange671=e.handlePropertyChange,e.determineIconSet671=e.determineIconSet,e.switchToYtSysIconset671=e.switchToYtSysIconset,e.useYtSysIconsetForMissingIcons671=e.useYtSysIconsetForMissingIcons,e.getIconManager671=e.getIconManager,e.getIconShapeData671=e.getIconShapeData,e.renderIcon671=e.renderIcon,e.__renderIconFix__))return;e.__renderIconFix__=!0;let r=[];const n=new MutationObserver(()=>{const l=r.slice();r.length=0;for(const f of l)f()}),o=document.createComment("1"),a=l=>{r.push(l),o.data=`${(o.data&7)+1}`};n.observe(o,{characterData:!0});const s=l=>{if(l.__ytIconSetup588__)return;const f=Reflect.getPrototypeOf(l);f.__ytIconSetup588__=!0;const i=(Ee.yt||0).config_||(Ee.ytcfg||0).data_||0;i.EXPERIMENT_FLAGS.wil_icon_render_when_idle=!1,i.EXPERIMENT_FLAGS.wil_icon_load_immediately=!0,i.EXPERIMENT_FLAGS.wil_icon_network_first=!0};e.handlePropertyChange=function(...l){const f=this.__data;uo&&this.id==="guide-icon"&&f&&!f.icon&&typeof this.set=="function"&&this.set("icon","yt-icons:menu"),this.__ytIconSetup588__||s(this),this.__resolved__={};const i=this.isAttached;let d,v;const T=this.__stackedKey3818__=(this.__stackedKey3818__&1073741823)+1,q=()=>{if(T===this.__stackedKey3818__&&(v=this.isAttached,!(i===!1&&d===!1&&v===!1))){if(!(i===!0&&d===!0&&v===!0)){if(i===void 0&&d===void 0&&v===void 0&&(this.hostElement||this).isConnected===!1)return;console.log("[yt-icon] debug",i,d,v,this)}this.handlePropertyChange671(...arguments)}};U.resolve().then(()=>{d=this.isAttached,a(q)})},e.determineIconSet=function(l,f,i,d){return this.__ytIconSetup588__||s(this),this.determineIconSet671(...arguments)},e.switchToYtSysIconset=function(l,f,i,d){return this.__ytIconSetup588__||s(this),this.switchToYtSysIconset671(...arguments)},e.useYtSysIconsetForMissingIcons=function(l,f,i,d){return this.__ytIconSetup588__||s(this),this.useYtSysIconsetForMissingIcons671(...arguments)},e.getIconManager=function(){return this.__ytIconSetup588__||s(this),this.__resolved__||(this.__resolved__={}),this.__resolved__.getIconManager||(this.__resolved__.getIconManager=this.getIconManager671(...arguments)),this.__resolved__.getIconManager},e.getIconShapeData=function(){return this.__ytIconSetup588__||s(this),this.__resolved__||(this.__resolved__={}),this.__resolved__.getIconShapeData||(this.__resolved__.getIconShapeData=this.getIconShapeData671(...arguments)),this.__resolved__.getIconShapeData},e.renderIcon=function(l,f){return this.__ytIconSetup588__||s(this),this.renderIcon671(...arguments)}});function an(e,r){if(!Array.isArray(e)||!Array.isArray(r))throw new Error("Inputs must be arrays");const n=e.length,o=r.length;if(n===0||o===0)return[];if(n===o&&e.every((d,v)=>d===r[v]))return e.slice();if(n>o)return an(r,e);const a=[new Uint32Array(o+1),new Uint32Array(o+1)],s=new Uint8Array(n*o);for(let d=n-1;d>=0;d--){const v=d%2,T=1-v;a[v].fill(0);for(let q=o-1;q>=0;q--){const N=d*o+q;e[d]===r[q]?(a[v][q]=a[T][q+1]+1,s[N]=0):a[T][q]>=a[v][q+1]?(a[v][q]=a[T][q],s[N]=1):(a[v][q]=a[v][q+1],s[N]=2)}}if(a[0][0]>4294967295)throw new Error("LCS length exceeds safe integer limit");const l=[];let f=0,i=0;for(;f<n&&i<o;){const d=f*o+i,v=s[d];v===0?(l.push(e[f]),f++,i++):v===1?f++:i++}return l}function Lo(e,r){if(!Array.isArray(e)||!Array.isArray(r))throw new Error("Inputs must be arrays");const n=e.length,o=r.length;if(n===0&&o===0)return[];if(n===0)return[[0,0,r.slice()]];if(o===0)return[[0,n,[]]];let a=0;for(;a<n&&a<o&&e[a]===r[a];)a++;let s=0;for(;s<n-a&&s<o-a&&e[n-1-s]===r[o-1-s];)s++;const l=e.slice(a,n-s),f=r.slice(a,o-s),i=an(l,f),d=new Array(Math.ceil((l.length+f.length)/1.5));let v=0,T=0,q=0,N=0,c=a;const _=i.length;for(;N<_;){const h=i[N];let p=0;const y=[],w=[];for(;T<l.length&&l[T]!==h;)y.push(l[T]),p++,T++;for(;q<f.length&&f[q]!==h;)w.push(f[q]),q++;let L=!1;p>0&&p===w.length&&(L=y.every(($,X)=>$===w[X]),L&&p>0&&(d[v++]=[c,p,[]],d[v++]=[c,0,w],c+=w.length)),!L&&(p>0||w.length>0)&&(d[v++]=[c,p,w],c+=w.length),T++,q++,N++,c++}const g=l.length-T,u=f.slice(q);if(g>0||u.length>0){const h=l.slice(T);let p=!1;g>0&&g===u.length&&(p=h.every((y,w)=>y===u[w]),p&&(d[v++]=[c,g,[]],d[v++]=[c,0,u])),p||(d[v++]=[c,g,u])}return d.length=v,d}const Fo=()=>{const e=(Ee.yt||0).config_||(Ee.ytcfg||0).data_||0;e.DEFERRED_DETACH===!0&&(e.DEFERRED_DETACH=!1),e.REUSE_COMPONENTS===!0&&(e.REUSE_COMPONENTS=!1);const r=Date.now()-8e10,n=()=>`${Math.floor(Math.random()*314159265359+314159265359).toString(36)}_${(Date.now()-r).toString(36)}`,o=function(B){return this.getStampContainer7409_(B)},a=function(B,j,m,A){return this.createComponent7409_(B,j,m,A)},s=Symbol(),l=function(B,j,m){return typeof(m||0)=="object"?(m[s]||(m[s]=n()),B[s]=m[s]):B[s]=null,this.deferRenderStamperBinding7409_(B,j,m)},f=function(){if(!this.__qsd477__||!this.deferredBindingTasks_)return this.flushRenderStamperComponentBindings7409_();if(this.deferredBindingTasks_.length>=0){const B=this.__$$stampFlushKey$$__=n();(()=>{if(B!==this.__$$stampFlushKey$$__)return;this.flushRenderStamperComponentBindings7409_();const m=[...this.__lat457__];this.__lat457__.clear();for(const A of m){const E=Q(A);if(E&&!E.querySelector("[ytx-flushing]")&&E.hasAttribute("ytx-flushing")){const k=E.getAttribute("ytx-flushing");E.removeAttribute("ytx-flushing"),q(E,k);let R=E.closest("[ytx-flushing]");for(;R&&!R.querySelector("[ytx-flushing]");){const b=R.getAttribute("ytx-flushing");R.removeAttribute("ytx-flushing"),q(R,b),R=R.closest("[ytx-flushing]")}}}v()})()}throw new Error("e5bd8d2f")};let i=[],d=!1;const v=()=>{if(d||i.length===0)return;d=!0;let B=0;const j=()=>{B||(B=rn());const m=i.shift();if(!m){d=!1;return}m.fn(m),rn()-B>10?(B=0,ke(j)):Ke(j)};Ke(j)},T=B=>{if(!B)return;const{containerWr:j,attrVal:m}=B,A=Q(j);if(!A||m==="0")return;const E=m==="2",k=_.get(A),R=Q(k);if(!R)return;const b=R.hostElement;b&&b.isConnected===!0&&(R.markDirty&&R.markDirty(),E&&vo(b,"yt-rendererstamper-finished",{container:A}))},q=(B,j)=>{if(!B)return;const m=B[M]||(B[M]=ae(B));i.push({fn:T,containerWr:m,attrVal:j})},N=(B,j)=>{if(!B)return;const m=B[M]||(B[M]=ae(B));T({fn:T,containerWr:m,attrVal:j})},c=B=>{i.push({fn:B})},_=new le,g=function(B,j){for(let m in B)if(B.hasOwnProperty(m)&&j[m])return m;return null},u=(B,j,m,A,E)=>{const k=m,R=B;let b=R&&R[1]&&R[2];return R&&R[2]&&R[2]===R[0]&&(R[2].cancel(),b=!1),A.hasFlexibleItems===!0||E.isConnected===!1||E.closest("[hidden]")||j==="edit-dialog"&&k==="ytd-comment-view-model"&&A.isReply===!0||k==="ytd-masthead"||k==="ytd-button-renderer"||k==="yt-button-shape"||k==="yt-icon-button"||k==="ytd-notification-topbar-button-renderer"||j==="buttons"||j==="button"||j==="icon"||k==="yt-interaction"||j==="interaction"?!1:(j==="overlays"||k==="ytd-rich-grid-media"||k==="ytd-rich-grid-renderer"||j==="replies"||j==="flexible-item-buttons"&&k==="ytd-menu-renderer"?b=!0:k==="ytd-menu-popup-renderer"?b=!1:j==="ghost-comment-section"&&k==="ytd-continuation-item-renderer"?b=!0:k==="ytd-continuation-item-renderer"||k==="ytd-feed-filter-chip-bar-renderer"||k==="yt-chip-cloud-renderer"||j==="filter"||j==="chips"||j==="left-arrow-button"||j==="right-arrow-button"?b=!1:j==="menu"&&k==="ytd-playlist-panel-video-renderer"?b=!0:j==="top-level-buttons-computed"&&k==="ytd-menu-renderer"?b=!1:(k==="ytd-comment-view-model"||k==="ytd-video-preview")&&(b=!0),b)},h=document.createDocumentFragment();h.appendChild4202=h.appendChild,h.removeChild4202=h.removeChild;const p=document.createComment("."),L=document.implementation.createHTMLDocument().firstElementChild.appendChild(document.createElement("div")),$=B=>{if(B instanceof Node){const j=B.__domApi;j&&!j.removeChild588&&j.removeChild&&(j.removeChild588=j.removeChild,j.removeChild=function(m){let A;for(const E of m.querySelectorAll("[ytx-flushing]"))E.setAttribute("ytx-flushing","0");try{A=this.removeChild588(m)}catch{}A||(h.appendChild4202(m),h.removeChild4202(m),A=m);for(const E of m.querySelectorAll("[ytx-flushing]"))E.removeAttribute("ytx-flushing");return A})}},X=function(B,j,m,A,E,k){const R=this[`__$$stampSqq$$#${j}__`];typeof R=="function"&&R();const b=this[`__quu477#${j}__`],D=(this.hostElement||0).is,Y=u(b,j,D,this,this.hostElement),H=this.getStampContainer7409_(j),ne=H instanceof Node&&H.isConnected?[...H.children]:[];Xe(ne),_.set(H,this[M]||(this[M]=ae(this))),E?H.setAttribute("ytx-flushing","2"):H.hasAttribute("ytx-flushing")||H.setAttribute("ytx-flushing","1");let ee=typeof(B||0)=="object"?B.length>=1?B.slice():[]:B;B=null;const G=this[`__$$stampSID$$#${j}__`]=n();let te=0;const oe=(()=>{if(te||(te=1,G!==this[`__$$stampSID$$#${j}__`]))return;this[`__$$stampSFn$$#${j}__`]=null;const W=this.getStampContainer7409_(j);this.__lat457__=this.__lat457__||new Set,W[M]||(W[M]=ae(W)),this.__lat457__.add(W[M]),$(W),this.__qsd477__=Y?2:1;let O;try{this.stampDomArray7409_(ee,j,m,!1,E,k)}catch(x){O=x}if(this.__qsd477__=!1,ee=m=null,$(W),O&&O.message!=="e5bd8d2f")throw O});this[`__$$stampSFn$$#${j}__`]=oe,this[`__$$stampSqq$$#${j}__`]=oe,Y?c(oe):oe(),v(),U.resolve(ne).then(W=>{for(const O of W)O.isConnected===!1&&_e.addNode(O);W.length=0,W=null})},ue=function(B,j,m){const A=this[`__$$stampSqq$$#${j}__`];if(typeof A=="function"&&A(),!(typeof m=="object"&&m.indexSplices instanceof Array))return this.stampDomArraySplices7409_(B,j,m);const E=this[`__quu477#${j}__`],k=(this.hostElement||0).is,R=u(E,j,k,this,this.hostElement),b=this.getStampContainer7409_(j);_.set(b,this[M]||(this[M]=ae(this))),this.stampDom[B].events?b.setAttribute("ytx-flushing","2"):b.hasAttribute("ytx-flushing")||b.setAttribute("ytx-flushing","1"),m.indexSplices.forEach(ee=>{const G=ee.object;!G||typeof G!="object"||(this[`__$$stampSpliceObj$$#${j}__`]=G[M]||(G[M]=ae(G)))}),m=null,this[`__$$stampSID$$#${j}__`]||(this[`__$$stampSID$$#${j}__`]=n());const Y=this[`__$$stampSID$$#${j}__`];let H=0;const ne=(()=>{if(H||(H=1,Y!==this[`__$$stampSID$$#${j}__`]))return;this[`__$$stampSFn$$#${j}__`]&&this[`__$$stampSFn$$#${j}__`]();const ee=this.getStampContainer7409_(j);if(!ee)return;const G=Q(this[`__$$stampSpliceObj$$#${j}__`]),te=this.stampDom[B].mapping,oe=new Map,W=G.map(S=>{const I=g(te,S);if(!I)return null;const C=S[I];return C[s]||(C[s]=n()),oe.set(C[s],S),C[s]}),O=Array.prototype.map.call((ee.__domApi||ee).children,S=>S[s]);let Z={indexSplices:Lo(O,W).map(S=>{const I=S[0],C=S[1],V=S[2],J=V.length,K={};K.length=I+J;for(let se=0;se<J;se++)K[I+se]=oe.get(V[se]);const z={};return z.length=C,{index:I,removed:z,object:K,addedCount:J}})};oe.clear(),this.__lat457__=this.__lat457__||new Set,ee[M]||(ee[M]=ae(ee)),this.__lat457__.add(ee[M]),$(ee),this.__qsd477__=R?2:1;let F;try{this.stampDomArraySplices7409_(B,j,Z)}catch(S){F=S}if(this.__qsd477__=!1,Z=null,B=Z=null,$(ee),F&&F.message!=="e5bd8d2f")throw F});this[`__$$stampSqq$$#${j}__`]=ne,R?c(ne):ne(),v()},ie=function(B,j,m,A,E){const k=E[0],R=Date.now(),b=Q(B);if(!b||b[`__stampDomArrayArgs_xxx__#${j}__`]!==m)return;const Y=b[`__stampDomArrayArgs_dataList__#${j}__`],H=Q(b[`__stampDomArrayArgs_typeOrConfig__#${j}__`]),ne=b[`__stampDomArrayArgs_bReuse__#${j}__`],ee=b[`__stampDomArrayArgs_bEventCb__#${j}__`],G=b[`__stampDomArrayArgs_bStableList__#${j}__`],te=b.renderJobsMap_[j];b[`__quu477#${j}__`]=[A,R-k>=1,te];let oe,W;try{W=b.stampDomArray_(Y,j,H,ne,ee,G)}catch(O){oe=O}if(b[`__quu477#${j}__`]=!1,oe)throw oe;return W};X.bind=function(B,...j){let[m,A,E,k,R,b]=j;B[M]||(B[M]=ae(B)),B[`__stampDomArrayArgs_dataList__#${A}__`]=m;const D=typeof(E||0)=="object"?E[M]||(E[M]=ae(E)):E;B[`__stampDomArrayArgs_typeOrConfig__#${A}__`]=D,B[`__stampDomArrayArgs_bReuse__#${A}__`]=k,B[`__stampDomArrayArgs_bEventCb__#${A}__`]=R,B[`__stampDomArrayArgs_bStableList__#${A}__`]=b;const Y=B[`__stampDomArrayArgs_xxx__#${A}__`]=`${Math.random()}_${Date.now()}`,H=B.renderJobsMap_[A],ne=[Date.now()];return Ke(()=>{ne[0]=0}),ie.bind(null,B[M],A,Y,H,ne)};const de=function(B,j,m,A,E,k){const R=k[0],b=Date.now(),D=Q(B);if(!D)return;const Y=D.renderJobsMap_[m];D[`__quu477#${m}__`]=[E,b-R>=1,Y];let H,ne;try{ne=D.stampDomArraySplices_(j,m,A)}catch(ee){H=ee}if(D[`__quu477#${m}__`]=!1,H)throw H;return ne};return ue.bind=function(B,...j){let[m,A,E]=j;B[M]||(B[M]=ae(B));const k=B.renderJobsMap_[A],R=[Date.now()];return Ke(()=>{R[0]=0}),de.bind(null,B[M],m,A,E,k,R)},{getStampContainer_:o,createComponent_:a,deferRenderStamperBinding_:l,flushRenderStamperComponentBindings_:f,stampDomArray_:X,stampDomArraySplices_:ue,flushRenderStamperComponentBindings7419_:function(){const B=this.deferredBindingTasks_;if(!(B||0).length)return;const j=this.hostElement;j instanceof Node&&j.nodeType===1?j.isConnected===!0&&this.flushRenderStamperComponentBindings7409_():j?(console.log("flushRenderStamperComponentBindings7419_ 002"),this.flushRenderStamperComponentBindings7409_()):(console.log("flushRenderStamperComponentBindings7419_ 003"),B.length=0)}}},cs=(e,r)=>{if(typeof e.onYtRendererstamperFinished=="function"&&!e.onYtRendererstamperFinished.km34){const n=e.onYtRendererstamperFinished,o=P.get(n)||function(){if(this.updateChildVisibilityProperties&&!this.markDirty)return n.apply(this,arguments);U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onYtRendererstamperFinished=o}if(typeof e.onYtUpdateDescriptionAction=="function"&&!e.onYtUpdateDescriptionAction.km34){const n=e.onYtUpdateDescriptionAction,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onYtUpdateDescriptionAction=o}if(typeof e.handleUpdateDescriptionAction=="function"&&!e.handleUpdateDescriptionAction.km34){const n=e.handleUpdateDescriptionAction,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.handleUpdateDescriptionAction=o}if(typeof e.handleUpdateLiveChatPollAction=="function"&&!e.handleUpdateLiveChatPollAction.km34){const n=e.handleUpdateLiveChatPollAction,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.handleUpdateLiveChatPollAction=o}if(typeof e.onTextChanged=="function"&&!e.onTextChanged.km34){const n=e.onTextChanged,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onTextChanged=o}if(typeof e.onVideoDataChange=="function"&&!e.onVideoDataChange.km34){const n=e.onVideoDataChange,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onVideoDataChange=o}if(typeof e.onVideoDataChange_=="function"&&!e.onVideoDataChange_.km34){const n=e.onVideoDataChange_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onVideoDataChange_=o}if(typeof e.addTooltips_=="function"&&!e.addTooltips_.km34){const n=e.addTooltips_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.addTooltips_=o}if(typeof e.updateRenderedElements=="function"&&!e.updateRenderedElements.km34){const n=e.updateRenderedElements,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.updateRenderedElements=o}if(ye&2&&typeof e.loadPage_=="function"&&!e.loadPage_.km34){const n=e.loadPage_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.loadPage_=o}if(ye&2&&typeof e.updatePageData_=="function"&&!e.updatePageData_.km34){const n=e.updatePageData_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.updatePageData_=o}if(ye&1&&typeof e.onFocus_=="function"&&!e.onFocus_.km34){const n=e.onFocus_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onFocus_=o}if(ye&1&&typeof e.onBlur_=="function"&&!e.onBlur_.km34){const n=e.onBlur_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onBlur_=o}if(ye&1&&typeof e.buttonClassChanged_=="function"&&!e.buttonClassChanged_.km34){const n=e.buttonClassChanged_,o=P.get(n)||function(a,s){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.buttonClassChanged_=o}if(ye&1&&typeof e.buttonIconChanged_=="function"&&!e.buttonIconChanged_.km34){const n=e.buttonIconChanged_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.buttonIconChanged_=o}if(ye&1&&typeof e.dataChangedInBehavior_=="function"&&!e.dataChangedInBehavior_.km34){const n=e.dataChangedInBehavior_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.dataChangedInBehavior_=o}if(ye&1&&typeof e.continuationsChanged_=="function"&&!e.continuationsChanged_.km34){const n=e.continuationsChanged_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.continuationsChanged_=o}if(ye&1&&typeof e.forceChatPoll_=="function"&&!e.forceChatPoll_.km34){const n=e.forceChatPoll_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.forceChatPoll_=o}if(ye&1&&typeof e.onEndpointClick_=="function"&&!e.onEndpointClick_.km34){const n=e.onEndpointClick_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onEndpointClick_=o}if(ye&1&&typeof e.onEndpointTap_=="function"&&!e.onEndpointTap_.km34){const n=e.onEndpointTap_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onEndpointTap_=o}if(ye&1&&typeof e.handleClick_=="function"&&!e.handleClick_.km34){const n=e.handleClick_,o=P.get(n)||function(a,s){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.handleClick_=o}if(ye&1&&typeof e.onReadyStateChange_=="function"&&!e.onReadyStateChange_.km34){const n=e.onReadyStateChange_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onReadyStateChange_=o}if(ye&1&&typeof e.onReadyStateChangeEntryPoint_=="function"&&!e.onReadyStateChangeEntryPoint_.km34){const n=e.onReadyStateChangeEntryPoint_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onReadyStateChangeEntryPoint_=o}if(ye&1&&typeof e.readyStateChangeHandler_=="function"&&!e.readyStateChangeHandler_.km34){const n=e.readyStateChangeHandler_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.readyStateChangeHandler_=o}if(typeof e.xmlHttpHandler_=="function"&&!e.xmlHttpHandler_.km34){const n=e.xmlHttpHandler_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.xmlHttpHandler_=o}if(ye&1&&typeof e.executeCallbacks_=="function"&&!e.executeCallbacks_.km34){const n=e.executeCallbacks_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.executeCallbacks_=o}if(ye&1&&typeof e.handleInvalidationData_=="function"&&!e.handleInvalidationData_.km34){const n=e.handleInvalidationData_,o=P.get(n)||function(a,s){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.handleInvalidationData_=o}if(typeof e.onInput_=="function"&&!e.onInput_.km34){const n=e.onInput_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onInput_=o}if(typeof e.trigger_=="function"&&!e.trigger_.km34){const n=e.trigger_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.trigger_=o}if(typeof e.requestData_=="function"&&!e.requestData_.km34){const n=e.requestData_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.requestData_=o}if(typeof e.onLoadReloadContinuation_=="function"&&!e.onLoadReloadContinuation_.km34){const n=e.onLoadReloadContinuation_,o=P.get(n)||function(a,s){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onLoadReloadContinuation_=o}if(typeof e.onLoadIncrementalContinuation_=="function"&&!e.onLoadIncrementalContinuation_.km34){const n=e.onLoadIncrementalContinuation_,o=P.get(n)||function(a,s){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onLoadIncrementalContinuation_=o}if(typeof e.onLoadSeekContinuation_=="function"&&!e.onLoadSeekContinuation_.km34){const n=e.onLoadSeekContinuation_,o=P.get(n)||function(a,s){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onLoadSeekContinuation_=o}if(typeof e.onLoadReplayContinuation_=="function"&&!e.onLoadReplayContinuation_.km34){const n=e.onLoadReplayContinuation_,o=P.get(n)||function(a,s){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onLoadReplayContinuation_=o}if(ye&1&&typeof e.onNavigate_=="function"&&!e.onNavigate_.km34){const n=e.onNavigate_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onNavigate_=o}if(ye&1&&typeof e.ytRendererBehaviorDataObserver_=="function"&&!e.ytRendererBehaviorDataObserver_.km34){const n=e.ytRendererBehaviorDataObserver_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.ytRendererBehaviorDataObserver_=o}if(ye&1&&typeof e.ytRendererBehaviorTargetIdObserver_=="function"&&!e.ytRendererBehaviorTargetIdObserver_.km34){const n=e.ytRendererBehaviorTargetIdObserver_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.ytRendererBehaviorTargetIdObserver_=o}if(ye&1&&typeof e.unregisterRenderer_=="function"&&!e.unregisterRenderer_.km34){const n=e.unregisterRenderer_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.unregisterRenderer_=o}if(ye&1&&typeof e.textChanged_=="function"&&!e.textChanged_.km34){const n=e.textChanged_,o=P.get(n)||function(a){if(this.isAttached!==void 0){const s=this.hostElement;if(!(s instanceof Node)||s.nodeName==="NOSCRIPT")return}U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.textChanged_=o}if(typeof e.searchChanged_=="function"&&!e.searchChanged_.km34){const n=e.searchChanged_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.searchChanged_=o}if(typeof e.skinToneChanged_=="function"&&!e.skinToneChanged_.km34){const n=e.skinToneChanged_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.skinToneChanged_=o}if(typeof e.onEmojiHover_=="function"&&!e.onEmojiHover_.km34){const n=e.onEmojiHover_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onEmojiHover_=o}if(typeof e.onSelectCategory_=="function"&&!e.onSelectCategory_.km34){const n=e.onSelectCategory_,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onSelectCategory_=o}if(typeof e.onShowEmojiVariantSelector=="function"&&!e.onShowEmojiVariantSelector.km34){const n=e.onShowEmojiVariantSelector,o=P.get(n)||function(a){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onShowEmojiVariantSelector=o}if(typeof e.updateCategoriesAndPlaceholder_=="function"&&!e.updateCategoriesAndPlaceholder_.km34){const n=e.updateCategoriesAndPlaceholder_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.updateCategoriesAndPlaceholder_=o}if(typeof e.watchPageActiveChanged_=="function"&&!e.watchPageActiveChanged_.km34){const n=e.watchPageActiveChanged_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.watchPageActiveChanged_=o}if(typeof e.activate_=="function"&&!e.activate_.km34){const n=e.activate_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.activate_=o}if(typeof e.onYtPlaylistDataUpdated_=="function"&&!e.onYtPlaylistDataUpdated_.km34){const n=e.onYtPlaylistDataUpdated_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onYtPlaylistDataUpdated_=o}if(typeof e.tryRenderChunk_=="function"&&!e.tryRenderChunk_.km34){const n=e.tryRenderChunk_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.tryRenderChunk_=o}if(typeof e.renderChunk_=="function"&&!e.renderChunk_.km34){const n=e.renderChunk_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.renderChunk_=o}if(typeof e.deepLazyListObserver_=="function"&&!e.deepLazyListObserver_.km34){const n=e.deepLazyListObserver_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.deepLazyListObserver_=o}if(typeof e.onItemsUpdated_=="function"&&!e.onItemsUpdated_.km34){const n=e.onItemsUpdated_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.onItemsUpdated_=o}if(typeof e.requestRenderChunk_=="function"&&!e.requestRenderChunk_.km34){const n=e.requestRenderChunk_,o=P.get(n)||function(){U.resolve().then(()=>n.apply(this,arguments)).catch(console.log)};P.set(n,o),o.km34=1,e.requestRenderChunk_=o}},cn=Symbol(),xo=new le;let Be=Reflect.getPrototypeOf(HTMLFontElement);try{const e=document.createElement("template");e.innerHTML="<ytz-null361></ytz-null361>",Be=e.content.firstChild.constructor}catch{}Be.prototype.connectedCallback||(Be.prototype.connectedCallback79=Be.prototype.connectedCallback,Be.prototype.connectedCallback=function(){let e;return this.connectedCallback79&&(e=this.connectedCallback79.apply(this,arguments)),e});const ln=Symbol();let lt=null;const un=new WeakSet,fn=e=>{const r=Reflect.getPrototypeOf(e||0)||0;if(!(!r||un.has(r))&&(un.add(r),xe&&!(r[ln]&1)&&"stampDomArray_"in r&&(r[ln]|=1,xe&&!location.pathname.startsWith("/live_chat")&&r.stampDomArray_))){if(!(r.stampDomArray_.length===6&&r.getStampContainer_&&r.getStampContainer_.length===1&&r.createComponent_&&(r.createComponent_.length===4||r.createComponent_.length===3)&&r.deferRenderStamperBinding_&&r.deferRenderStamperBinding_.length===3&&r.flushRenderStamperComponentBindings_&&r.flushRenderStamperComponentBindings_.length===0&&r.deferRenderStamperBinding_===e.deferRenderStamperBinding_))console.warn("YouTube Coding Changed. createStampDomFns_() is not applied");else if(!r.createComponent7409_&&!r.deferRenderStamperBinding7409_&&!r.flushRenderStamperComponentBindings7409_){lt||(lt=Fo());const{getStampContainer_:o,createComponent_:a,deferRenderStamperBinding_:s,flushRenderStamperComponentBindings_:l,stampDomArray_:f,stampDomArraySplices_:i,flushRenderStamperComponentBindings7419_:d}=lt;r.getStampContainer7409_=r.getStampContainer_,r.createComponent7409_=r.createComponent_,r.deferRenderStamperBinding7409_=r.deferRenderStamperBinding_,r.flushRenderStamperComponentBindings7409_=r.flushRenderStamperComponentBindings_,r.stampDomArray7409_=r.stampDomArray_,r.stampDomArraySplices7409_=r.stampDomArraySplices_,r.getStampContainer_=o,r.createComponent_=a,r.deferRenderStamperBinding_=s,r.flushRenderStamperComponentBindings_=l,r.stampDomArray_=f,r.stampDomArraySplices_=i,r.flushRenderStamperComponentBindings7419_=d}}};xe&&Object.defineProperty(Object.prototype,"connectedCallback",{get(){const e=this[cn];return this.is&&fn(this),e},set(e){let r=e;return this[cn]=r,!0},enumerable:!1,configurable:!0});const Ye=new U(e=>{document.readyState!=="loading"?e():window.addEventListener("DOMContentLoaded",e,!1)});fo&&Ye.then(()=>{Kt("#actions .tp-yt-paper-tooltip{white-space:nowrap}")}),Yn&&!window.requestIdleCallback471&&typeof window.requestIdleCallback=="function"&&(window.requestIdleCallback471=window.requestIdleCallback,window.requestIdleCallback=function(e,...r){return(this||window).requestIdleCallback471(async function(){await Ye.then(),e.call(this,...arguments)},...r)}),Ye.then(()=>{let e=document.querySelector("style[nonce]");e=e?e.getAttribute("nonce"):null;const r=document.createElement("style");typeof e=="string"&&r.setAttribute("nonce",e),r.textContent="none-element-k47{order:0}",r.addEventListener("load",()=>{Yt.resolve(),xt=1},!1),(document.body||document.head||document.documentElement).appendChild(r)});const Ge=[],$o=new Set(["/robots.txt","/live_chat","/live_chat_replay"]);let ut=window.onerror,ve=On?$o.has(location.pathname)?2:1:0;(!JSON||!("parse"in JSON))&&(ve=0),ve===1&&(()=>{let e=ut,r=null;Object.defineProperty(Object.prototype,"matchAll",{get(){return r=this,!0},enumerable:!0,configurable:!0});try{JSON.parse("{}")}catch(o){console.warn(o),ve=0}delete Object.prototype.matchAll;let n=window.onerror;if(window.onerror=e,ve!==0){if(r&&(JSON.parse.stackNeedleDetails=r,r.matchAll=!0),e===n)return ve=0;ve=r?3:4}})(),ve===2&&(()=>{let e=ut,r=null,n=null;Object.defineProperty(Function.prototype,"findOwner",{get(){return r=this,this._findOwner},set(a){return this._findOwner=a,!0},enumerable:!0,configurable:!0}),Object.defineProperty(Object.prototype,"matchAll",{get(){return n=this,!0},enumerable:!0,configurable:!0});try{JSON.parse("{}")}catch(a){console.warn(a),ve=0}delete Function.prototype.findOwner,delete Object.prototype.matchAll;let o=window.onerror;if(e!==o)return ve=4;ve!=0&&(Ge.push("fix_error_many_stack_state NB"),n&&(n.pattern=null,n.re=null,n.expect=null,n.matchAll=!0),r&&(r.findOwner=r.mustProcess=r.logJson=()=>{},delete r._findOwner),ve=3,JSON.parse.stackNeedleDetails=n,JSON.parse.objectPrune=r)})(),ve===3&&(()=>{let e=ut;try{JSON.parse("{}")}catch(n){console.warn(n),ve=0}let r=window.onerror;e!==r&&(window.onerror=e,ve!==0&&(ve=4))})(),ve===4&&(Ge.push("fix_error_many_stack_state AB"),JSON.parseProxy=JSON.parse,JSON.parse=(e=>(e=e.bind(JSON),function(r,n){const o=window.onerror;window.onerror=null;let a;try{a=e(...arguments)}catch(s){a=s}if(window.onerror=o,a instanceof Error)throw a;return a}))(JSON.parse));const dn=!0,pn=200,qo=()=>{};let _n=!1;try{_n=window.document===window.top.document}catch{}let ft=!wn,Ze=null;const ls=(e,r)=>{if(!e||typeof e!="function"){console.warn("f is not a function",e);return}let n=`${e}`,o=0,a=-1,s=0;for(let f=0,i=n.length;f<i;f++){const d=n[f];d>="a"&&d<="z"||d>="A"&&d<="Z"?(a<f-1&&s++,a=f):o++}let l=`${e.length}.${o}.${s}`;return r?l===r:l},dt=(e,r)=>{if(!e||typeof e!="function"){console.warn("f is not a function",e);return}let n=`${e}`,o=0,a=-1,s=0,l=" ";for(let i=0,d=n.length;i<d;i++){const v=n[i];v>="a"&&v<="z"||v>="A"&&v<="Z"?(a<i-1&&(s++,l==="$"&&o--),a=i):o++,l=v}let f=`${e.length}.${o}.${s}`;return r?f===r:f},Uo=e=>{const r="ZqOu";let n=[];for(const[o,a]of Object.entries(e)){const s=typeof a=="function"?a.prototype:0;s&&typeof s.start=="function"&&s.start.length===0&&typeof s.isActive=="function"&&s.isActive.length===0&&typeof s.stop=="function"&&s.stop.length===0&&!s.isComplete&&!s.getStatus&&!s.getResponseHeader&&!s.getLastError&&!s.send&&!s.abort&&!s.sample&&!s.initialize&&!s.fail&&!s.getName&&(n=We(e,o,n)||n)}if(n.length===0)console.warn(`[yt-js-engine-tamer] (key-extraction) Key does not exist. [${r}]`);else return console.log(`[yt-js-engine-tamer] (key-extraction) [${r}]`,n),n[0]},Bo=e=>{const r="ZqQu";let n=[];for(const[o,a]of Object.entries(e)){const s=typeof a=="function"?a.prototype:0;s&&typeof s.start=="function"&&s.start.length===1&&typeof s.isActive=="function"&&s.isActive.length===0&&typeof s.stop=="function"&&s.stop.length===0&&!s.isComplete&&!s.getStatus&&!s.getResponseHeader&&!s.getLastError&&!s.send&&!s.abort&&!s.sample&&!s.initialize&&!s.fail&&!s.getName&&(n=We(e,o,n)||n)}if(n.length===0)console.warn(`[yt-js-engine-tamer] (key-extraction) Key does not exist. [${r}]`);else return console.log(`[yt-js-engine-tamer] (key-extraction) [${r}]`,n),n[0]},us=e=>{let n=[];for(const[o,a]of Object.entries(e)){const s=typeof a=="function"?a.prototype:0;s&&typeof s.show=="function"&&s.show.length===1&&typeof s.hide=="function"&&s.hide.length===0&&typeof s.stop=="function"&&s.stop.length===0&&(n=We(e,o,n)||n)}if(n.length===0)console.warn("[yt-js-engine-tamer] (key-extraction) Key does not exist. [VG]");else return console.log("[yt-js-engine-tamer] (key-extraction) [VG]",n),n[0]},Wo=e=>{let n=[];for(const[o,a]of Object.entries(e))if(typeof a=="function"&&a.length===3&&o.length<3){const s=`${a}`;s.length>=21&&s.includes(".style[")&&(/\((\w{1,3}),(\w{1,3}),(\w{1,3})\)\{[\s\S]*\1\.style\[\2\]=\3\W/.test(s)?n.push(o):console.warn("[yt-js-engine-tamer] unexpected zo::vt",s))}if(n.length===0)console.warn("[yt-js-engine-tamer] (key-extraction) Key does not exist. [zo]");else return console.log("[yt-js-engine-tamer] (key-extraction) [zo]",n),n[0]},We=(e,r,n)=>{let o=!1;for(const a of n)if(e[r].prototype instanceof e[a]){o=!0;break}if(!o)return n=n.filter(a=>!(e[a].prototype instanceof e[r])),n.push(r),n},Ho=e=>{let n=[];for(const[o,a]of Object.entries(e)){const s=typeof a=="function"?a.prototype:0;s&&typeof s.createElement=="function"&&s.createElement.length===2&&typeof s.detach=="function"&&s.detach.length===0&&typeof s.update=="function"&&s.update.length===1&&typeof s.updateValue=="function"&&s.updateValue.length===2&&(n=We(e,o,n)||n)}if(n.length===0)console.warn("[yt-js-engine-tamer] (key-extraction) Key does not exist. [uG]");else return console.log("[yt-js-engine-tamer] (key-extraction) [uG]",n),n[0]},pt=!!Et&&window===top;let ge=null,_t=0;pt&&(()=>{ge="";const e=()=>{ge="",_t=0};document.addEventListener("yt-navigate-start",e,!1),document.addEventListener("yt-navigate-cache",e,!1),document.addEventListener("yt-page-data-fetched",e,!1),document.addEventListener("yt-navigate-finish",()=>{_t=1;try{const r=new URL(location.href);!r||!Po(r)?ge="":ge=r.searchParams.get("v")||""}catch{ge=""}},!1)})();let Le=null;pt&&(()=>{let e=!0;Le={get videoId(){if(e){e=!1;let o=document.querySelectorAll("ytd-watch-flexy[video-id]");const a=[];for(const s of o)s.closest("[hidden]")||a.push(s);a.length!==1?this.__videoId__="":this.__videoId__=a[0].getAttribute("video-id")}return this.__videoId__||""}};const n=o=>{(o||0).target instanceof HTMLVideoElement&&(e=!0)};document.addEventListener("loadedmetadata",n,!0),document.addEventListener("durationchange",n,!0)})();const Vo=async e=>{const r=requestAnimationFrame;try{let n=16;const o="vanillajs-iframe-v1";let a=document.getElementById(o),s=null;if(!a){a=document.createElement("iframe"),a.id=o;const f=typeof webkitCancelAnimationFrame=="function"&&typeof kagi>"u"?a.src=URL.createObjectURL(new Blob([],{type:"text/html"})):null;a.sandbox="allow-same-origin";let i=document.createElement("noscript");for(i.appendChild(a);!document.documentElement&&n-- >0;)await new U(r);document.documentElement.appendChild(i),f&&U.resolve().then(()=>URL.revokeObjectURL(f)),s=v=>{const T=q=>{q&&e.removeEventListener("DOMContentLoaded",T,!1),q=i,i=e=s=0,v?v(()=>q.remove(),200):q.remove()};!v||document.readyState!=="loading"?T():e.addEventListener("DOMContentLoaded",T,!1)}}for(;!a.contentWindow&&n-- >0;)await new U(r);const l=a.contentWindow;if(!l)throw"window is not found.";try{const{requestAnimationFrame:f,setTimeout:i,clearTimeout:d,cancelAnimationFrame:v,setInterval:T,clearInterval:q,requestIdleCallback:N,getComputedStyle:c}=l,_={requestAnimationFrame:f,setTimeout:i,clearTimeout:d,cancelAnimationFrame:v,setInterval:T,clearInterval:q,requestIdleCallback:N,getComputedStyle:c};for(let g in _)_[g]=_[g].bind(e);return s&&U.resolve(_.setTimeout).then(s),_.animate=l.HTMLElement.prototype.animate,_.perfNow=l.performance.now,_}catch{return s&&s(),null}}catch(n){return console.warn(n),null}},ht=new U(e=>{const r=Oe?"yt-live-chat-app":"ytd-app";if(typeof AbortSignal<"u"){let n=()=>{n&&(n=null,e(document.querySelector(r)))};document.addEventListener("yt-action",n,{capture:!0,passive:!0,once:!0})}else{let n=()=>{n&&(document.removeEventListener("yt-action",n,!0),n=null,e(document.querySelector(r)))};document.addEventListener("yt-action",n,!0)}});if(Vo(window).then(e=>{if(!e)return null;const{requestAnimationFrame:r,setTimeout:n,clearTimeout:o,cancelAnimationFrame:a,setInterval:s,clearInterval:l,animate:f,requestIdleCallback:i,getComputedStyle:d,perfNow:v}=e;performance.now17=v.bind(performance),at=r;const T=(()=>{try{const m=document.createElement("canvas");return!!(m.getContext("webgl")||m.getContext("experimental-webgl"))}catch{return!1}})(),q=(()=>{if(T)return null;const m=Object.getOwnPropertyDescriptor(Document.prototype,"visibilityState");if(!m||typeof m.get!="function")return null;const A=m.get;let E=null,k=A.call(document)==="hidden";return pureAddEventListener.call(document,"visibilitychange",R=>{const b=A.call(document)==="hidden";k!==b&&(k=b,!k&&E&&(E=E.resolve()))}),(()=>{if(E)return E;const R=(!k&&n(()=>{!k&&E===R&&(E=E.resolve())}),E=new He);return R})})();let N=null;const c=()=>N||(N=new U(m=>{r(A=>{N=null,m(A)})})),_=q||c,g=new le;!window.__native__getComputedStyle__&&!window.__jst__getComputedStyle__&&typeof window.getComputedStyle=="function"&&window.getComputedStyle.length===1&&(window.__native__getComputedStyle__=d,vn?(window.__original__getComputedStyle__=window.getComputedStyle,window.getComputedStyle=function(m){if(!(m instanceof Element)||arguments.length===2&&arguments[1]||arguments.length>2)return window.__original__getComputedStyle__(...arguments);let A=g.get(m);return A||(A=window.__native__getComputedStyle__(m),g.set(m,A)),A}):window.__original__getComputedStyle__=null,window.__jst__getComputedStyle__=window.getComputedStyle),Sn&&ht.then(()=>{typeof window.__jst__getComputedStyle__=="function"&&window.__jst__getComputedStyle__.length===1&&window.__jst__getComputedStyle__!==window.getComputedStyle&&(window.getComputedStyle=window.__jst__getComputedStyle__)});const u=location.href.includes(".youtube.com/embed/"),h=typeof AbortSignal<"u",p=new U(m=>{!u&&h&&document.addEventListener("yt-action",function(){n(m,480)},{capture:!0,passive:!0,once:!0}),!u&&h&&typeof customElements=="object"&&Ae("ytd-app").then(()=>{n(m,1200)}),n(m,3e3)}),y=new U(m=>{!u&&h&&document.addEventListener("yt-action",function(){n(m,450)},{capture:!0,passive:!0,once:!0}),!u&&h&&typeof customElements=="object"&&Ae("ytd-app").then(()=>{n(m,900)}),n(m,1800)});ft||y.then(()=>{ft=!0,Ze=null}),yn&&Se(()=>{HTMLCanvasElement.prototype.animate=f},p).obtain(),Dn&&(async()=>{const m=Oe?"yt-live-chat-app":"ytd-app",A=await new U(b=>{Ae(m).then(()=>{const D=document.querySelector(m);if(D){b(D);return}let Y=new MutationObserver(()=>{const H=document.querySelector(m);H&&(Y&&(Y.disconnect(),Y.takeRecords(),Y=null),b(H))});Y.observe(document,{subtree:!0,childList:!0})})});if(!A)return;const E=fe(A).constructor.prototype;if(!E)return;let k=0;const R=b=>{const D=fe(b);D&&typeof D.onYtActionBoundListener_=="function"&&!D.onYtActionBoundListener57_&&(D.onYtActionBoundListener57_=D.onYtActionBoundListener_,D.onYtActionBoundListener_=D.onYtAction_.bind(D),k++)};Se(()=>{if(typeof E.created=="function"&&!E.created56&&(E.created56=E.created,E.created=function(...b){const D=this.created56(...b);return R(this),D},k++),typeof E.onYtAction_=="function"&&!E.onYtAction57_&&(E.onYtAction57_=E.onYtAction_,E.onYtAction_=function(...b){U.resolve().then(()=>this.onYtAction57_(...b))},k++),A&&R(A),k>=3)return 1},new U(b=>n(b,1e3))).obtain()})(),Zn&&ht.then(async()=>{const m=Oe?"yt-live-chat-app":"ytd-watch-flexy",A=await Se(()=>document.querySelector(m)).obtain();if(!A)return;const E=fe(A);wo(E)});const w=Se(()=>{const m=(window||0)._yt_player||0||0;if(m)return m[`__is_yt_player__${Date.now()}`]=1,m},p),L=Se(()=>{const m=window.Polymer;if(typeof m=="function"&&!(!(m.Base||0).connectedCallback||!(m.Base||0).disconnectedCallback))return m},p),$=Se(()=>((window||0).ytglobal||0).schedulerInstanceInstance_||0,p),X=Se(()=>{let m=(document||0).timeline||0||0;if(m&&typeof m._play=="function")return m},p),ue=Se(()=>{let m=(window||0).Animation||0||0;if(m&&typeof m=="function"&&m.length===2&&typeof m.prototype._updatePromises=="function")return m},p),ie={screenWidth:0,screenHeight:0,valueReady:!1,onResize:()=>{ie.valueReady=!1},sizeProvided:()=>ie.valueReady?!0:(ie.screenWidth=screen.width,ie.screenHeight=screen.height,ie.screenWidth*ie.screenHeight>1?(ie.valueReady=!0,!0):!1)};window.addEventListener("resize",ie.onResize,!0);const de=Number.isNaN,be={get(){return this.getPropertyValue("left")},set(m){const A="left",E=this.getPropertyValue(A),k=m;if(!E&&!k||E===k)return!0;const R=`${k}`.length>=4&&`${k}`.endsWith("px")?+k.slice(0,-2):NaN;if(!de(R)){const b=`${E}`.length>=4&&`${E}`.endsWith("px")?+E.slice(0,-2):NaN;if(!de(b)&&ie.sizeProvided()){const{screenWidth:D,screenHeight:Y}=ie;let H=D+1024,ne=Y+768;const ee=.003,G=H*3e-4,te=ne*3e-4;if(Math.abs(b-R)<G)return!0}m=`${R>-1e-5&&R<1e-5?0:R.toFixed(4)}px`,`${m}`.length>`${k}`.length&&(m=k)}return this.setProperty(A,m),!0},enumerable:!0,configurable:!0};Gn&&Object.defineProperty(CSSStyleDeclaration.prototype,"left",be);const B=async(m,A,E)=>{const k=`${m}`,R=`${A}`,b=!!E,D=await w.obtain();if(!D||typeof D!="object")return;const H=(ee=>{let G=[];for(const[te,oe]of Object.entries(ee)){const W=typeof oe=="function"?oe.prototype:0;W&&typeof W[k]=="function"&&W[k].length>=0&&!W[R]&&(G=We(ee,te,G)||G)}if(G.length===0)console.warn(`Key prop [${k}] does not exist.`);else return G})(D);if(!H)return;b&&console.log(`FIX_${k}`,H);const ne=function(...ee){U.resolve().then(()=>this[R](...ee))};for(const ee of H){const oe=D[ee].prototype;b&&console.log(237,ee,oe),typeof oe[k]=="function"&&!oe[R]&&(oe[R]=oe[k],oe[k]=ne)}};Oe||(Nn&&B("onVideoDataChange","onVideoDataChange57"),jn&&B("onStateChange","onStateChange57"),Ln&&B("onLoopRangeChange","onLoopRangeChange57"),Fn&&B("onFullscreenChange","onFullscreenChange57",0));let j=!1;(It||kt||xe)&&(async()=>{const m=await L.obtain();if(m){if(kt&&m&&m.RenderStatus&&!j&&(j=!0,typeof m.RenderStatus.beforeNextRender=="function"&&typeof m.RenderStatus.afterNextRender=="function"&&m.RenderStatus.beforeNextRender.length===3&&m.RenderStatus.afterNextRender.length===3)){let A=null,E=null;const k=Array.prototype.push;let R=null;Array.prototype.push=function(){R=this},m.RenderStatus.beforeNextRender({},{},{}),R&&(A=R),R=null,m.RenderStatus.afterNextRender({},{},{}),R&&(E=R),R=null,Array.prototype.push=k,m.RenderStatus.arrBefore=A,m.RenderStatus.arrAfter=E,A&&E&&(Function.prototype.call7900=Function.prototype.call,Function.prototype.apply7900=Function.prototype.apply,Function.prototype.apply7948=function(b,D){const Y=this;let H=Q(b);if(H&&!(H.is&&!H.nodeName&&(!H.isAttached||!H.hostElement))){try{return D?Y.apply7900(H,D):Y.call7900(H)}catch(ne){console.warn(ne)}return null}},A.push=E.push=function(b){if(arguments.length!==1||!b||b.length===0||!b[0])return k.apply(this,arguments);b[0].deref&&(b[0]=Q(b[0]));const D=b[1],Y=b[0],H=b[2];return D.apply=D.apply7948,Y[M]||(Y[M]=ae(Y)),b[0]=Y[M],k.call(this,b)})}if(It){const A=W=>W&&W.writable&&W.enumerable&&W.configurable&&typeof W.value=="function",E=W=>W&&typeof W.value=="function",k=W=>W&&typeof W.get=="function",b=((m.dom(document.createElement("null"))||0).constructor||0).prototype||0,D=Object.getOwnPropertyDescriptor(b,"getOwnerRoot"),Y=Object.getOwnPropertyDescriptor(Node.prototype,"parentElement"),H=Object.getOwnPropertyDescriptor(b,"querySelector"),ne=Object.getOwnPropertyDescriptor(Element.prototype,"querySelector"),ee=Object.getOwnPropertyDescriptor(Document.prototype,"querySelector"),G=Object.getOwnPropertyDescriptor(b,"querySelectorAll"),te=Object.getOwnPropertyDescriptor(Element.prototype,"querySelectorAll"),oe=Object.getOwnPropertyDescriptor(Document.prototype,"querySelectorAll");if((!H||A(H))&&E(ne)&&E(ee)&&!("querySelector15"in b)){b.querySelector15=b.querySelector;const W=function(O){try{const x=this.node;if(x instanceof Document&&x.isConnected===!0)return ee.value.call(x,O)}catch{}return this.querySelector15(O)};Object.defineProperty(b,"querySelector",{get(){return W},set(O){return O===W||(this.querySelector15=O),!0},enumerable:!1,configurable:!0}),m.__fixedQuerySelector__=1}if((!G||A(G))&&E(te)&&E(oe)&&!("querySelectorAll15"in b)){b.querySelectorAll15=b.querySelectorAll;const W=function(O){try{const x=this.node;if(x instanceof Document&&x.isConnected===!0)return oe.value.call(x,O)}catch{}return this.querySelectorAll15(O)};Object.defineProperty(b,"querySelectorAll",{get(){return W},set(O){return O===W||(this.querySelectorAll15=O),!0},enumerable:!1,configurable:!0}),m.__fixedQuerySelectorAll__=1}}if(xe){m.Base.__connInit__=function(){fn(this)};const A=function(...R){!this.mh35&&typeof this.__connInit__=="function"&&this.__connInit__();const b=this[on](...R);return!this.mh35&&typeof this.__connInit__=="function"&&this.__connInit__(),this.mh35=1,b};A.m353=1;const E=m.Base.connectedCallback;m.Base[on]=xo.get(E)||E,m.Base.connectedCallback=A;const k=function(...R){!this.mh36&&typeof this.__connInit__=="function"&&this.__connInit__();const b=this[sn](...R);return!this.mh36&&typeof this.__connInit__=="function"&&this.__connInit__(),this.mh36=1,b};k.m353=1,m.Base[sn]=m.Base.created,m.Base.created=k}}})(),Cn&&!Node.prototype.appendChild73&&Node.prototype.appendChild&&(()=>{const m=Node.prototype.appendChild73=Node.prototype.appendChild;m&&(Node.prototype.appendChild=function(A){if(this instanceof Element)try{let E=A instanceof DocumentFragment;if(!ft&&document.head===this){Ze===null&&(Ze=document.head.getElementsByTagName("LINK"));for(const k of Ze)k.rel==="preload"&&k.as==="fetch"&&(k.rel="prefetch")}else E&&this.nodeName.startsWith("YT-")&&(E=!1);if(E&&A.firstElementChild===null){let k=!1;for(let R=A.firstChild;R instanceof Node;R=R.nextSibling)if(R.nodeType===3){k=!0;break}if(!k)return A}}catch(E){console.log(E)}return arguments.length===1?m.call(this,A):m.apply(this,arguments)})})(),Rn&&Se(()=>{const{ShadyDOM:m,ShadyCSS:A}=window;if(m&&(m.handlesDynamicScoping=!1,m.noPatch=!0,m.patchOnDemand=!1,m.preferPerformance=!0,m.querySelectorImplementation=void 0),A&&(A.nativeCss=!0,A.nativeShadow=!0,A.cssBuild=void 0,A.disableRuntime=!0),m&&A)return 1},p).obtain(),vt&2&&(async()=>{const m=await $.obtain();if(!m)return;if(typeof m.start=="function"&&!m.start993&&!m.stop&&!m.cancel&&!m.terminate&&!m.interupt){let E=null,k=new He;const R=document.createComment("0");new MutationObserver(()=>{E&&(E(),E=null),k.resolve(),k=new He}).observe(R,{characterData:!0});let D=null;const Y=()=>{if(typeof D=="number")return D;const I=(Ee.yt||0).config_||(Ee.ytcfg||0).data_||0,C=(I.EXPERIMENT_FLAGS||0).web_emulated_idle_callback_delay||(I.EXPERIMENTS_FORCED_FLAGS||0).web_emulated_idle_callback_delay;return typeof C=="number"&&(D=C),D};let H=!0,ne=null;const ee=I=>{if(!H)return typeof ytglobal>"u"?!1:((ytglobal||0).schedulerInstanceInstance_||0)[ne]===I;if(H=!1,typeof ytglobal>"u")return!1;const C=(ytglobal||0).schedulerInstanceInstance_||0;if(!C)return!1;for(const V of Object.entries(Object.getOwnPropertyDescriptors(C)))if(V[1].value===I&&V[1].enumerable&&V[1].writable&&V[1].configurable)return ne=V[0],console.log("[yt-js-engine-tamer] web_emulated_idle_callback fix applied"),!0;return!1};m.start993=m.start;let G=null,te=null;const oe=function(){return G=this.fn,te=[...arguments],12373},W=[oe.bind({fn:r}),oe.bind({fn:s}),oe.bind({fn:n}),oe.bind({fn:i})];let O=0,x=null;const Z=new Array(4),F={get(I,C,V){return C==="$$12377$$"?!0:C==="$$12378$$"?I:I[C]},set(I,C,V,J){if(V>=1&&V<=4&&(x=C),V===12373&&x){const K=I[x],z=C;if(K===3&&G===r)I[z]=Gt.apply(window,te);else if(K===2&&G===n)I[z]=Z[2].apply(window,te);else if(K===4&&G===n&&!te[1])if(vt&4){const se=te[0],re=++O;ke(()=>{I[z]===-re&&se()}),I[x]=940,I[z]=-re}else{const se=te[0],re=++O;U.resolve().then(()=>{I[z]===-re&&se()}),I[x]=930,I[z]=-re}else if(K===1&&(G===i||G===n))if(G===i&&(te[0]||0).name==="bound "&&(te[1]||0).timeout===3e3&&ee(te[0])){R.data=(R.data&7)+1;let se=te[0];const re=()=>{const he=se;he&&(se=null,he())};E=re,I[z]=i(re,{timeout:300})}else if(G===n&&(te[0]||0).name==="bound "&&te[1]===Y()&&ee(te[0])){R.data=(R.data&7)+1;let se=te[0];const re=()=>{const he=se;he&&(se=null,he())};E=re,I[z]=Z[2].call(window,re,300)}else G===i?I[z]=i.apply(window,te):I[z]=Z[2].apply(window,te);else I[x]=0,I[z]=0}else I[C]=V;return!0}};let S=!1;m.start=function(){if(!S){S=!0;try{Z[0]=window.requestAnimationFrame,Z[1]=window.setInterval,Z[2]=window.setTimeout,Z[3]=window.requestIdleCallback;const I=this.$$12378$$||this;window.requestAnimationFrame=W[0],window.setInterval=W[1],window.setTimeout=W[2],window.requestIdleCallback=W[3],x=null,I.start993.call(new Proxy(I,F)),x=null,window.requestAnimationFrame=Z[0],window.setInterval=Z[1],window.setTimeout=Z[2],window.requestIdleCallback=Z[3]}catch(I){console.warn(I)}S=!1}},m.start.toString=m.start993.toString.bind(m.start993)}})(),St&&!Oe&&(async()=>{const A=await w.obtain();if(!A||typeof A!="object")return;const E=A;let k;{const R=Uo(A);if(!R){console.warn("[yt-js-engine-tamer] FIX_yt_player::keyZqOu error");return}k=R;const b=E[k];if(typeof b!="function"){console.warn("[yt-js-engine-tamer] FIX_yt_player::g[keyZqOu] error");return}const D=b.prototype,Y=new b,H=()=>{},ne={};let ee="",G="",te="",oe="";for(const[O,x]of Object.entries(Y))x instanceof Window&&(G=O);const W={get(O,x){let Z=O[x];Z instanceof Window&&!G&&(G=t);let F=typeof Z=="function"?H:typeof Z=="object"?ne:Z;return x===G&&(F={requestAnimationFrame(S){return 3},cancelAnimationFrame(){}}),!te&&typeof Z=="function"&&!(x in O.constructor.prototype)&&(te=x),F},set(O,x,Z){return typeof Z=="boolean"&&!ee&&(ee=x),typeof Z=="number"&&!oe&&Z>=2&&(oe=x),O[x]=Z,!0}};Y.start.call(new Proxy(Y,W)),D._activation=!1,D.start=function(){this._activation||(this._activation=!0,_().then(()=>{this._activation=!1,this[oe]&&U.resolve().then(this[te])})),this[oe]=1,this[ee]=!0},D.stop=function(){this[oe]=null}}{const R=dn?Wo(A):null;if(R){k=R;const b=E[k];E["$$original$$"+k]=b;const D=async(W,O)=>{let x="",Z=0,F="",S=0;const I=W.style;let C=0;const V=O.length;if(V>=8){if(O.startsWith("scale")&&O.charCodeAt(6)===40&&O.charCodeAt(V-1)===41){C=1;let K=O.charCodeAt(5);(K===88||K===120)&&(C=5),(K===89||K===121)&&(C=9)}else if(O.startsWith("translate")&&O.charCodeAt(10)===40&&O.charCodeAt(V-1)===41){C=2;let K=O.charCodeAt(9);(K===88||K===120)&&(C=6),(K===89||K===121)&&(C=10)}let J=0;if(J=C===5?1:C===9?2:0){let K=O.substring(7,V-1),z=K.length>=1?parseFloat(K):NaN;typeof z=="number"&&!de(z)?(x=J===1?"scaleX":"scaleY",Z=z,F="",S=1):C=256}else if(J=C===6?1:C===10?2:0)if(O.endsWith("px)")){let K=O.substring(11,V-3),z=K.length>=1?parseFloat(K):NaN;if(typeof z=="number"&&!de(z))x=J===1?"translateX":"translateY",Z=z,F="px",S=2;else if(K==="NaN")return}else C=256;else C>0&&(C=256)}if(C===256&&console.log("[yt-js-engine-tamer] zoTransform undefined",O),S===1){const J=Math.round(Z*pn)/pn,K=Ve(J,3);O=`${x}(${K})`;const z=I.transform;if(O===z)return;I.transform=O}else if(S===2){const K=Ve(Z,1);O=`${x}(${K}${F})`;const z=I.transform;if(O===z)return;I.transform=O}else{const J=I.transform;if(!O&&!J)return;if(O===J)return;I.transform=O}},Y=new le,H={display:new le,width:new le,height:new le,outlineWidth:new le,position:new le,padding:new le,cssText:new le,right:new le,left:new le,top:new le,bottom:new le,transitionDelay:new le,marginLeft:new le,marginTop:new le,marginRight:new le,marginBottom:new le},ne=Symbol(),ee=(W,O,x,Z,F)=>{const S=W,I=x,C=!I.has(S);F||C?(I.set(S,ne),Z(S,O),C&&ke(()=>{const V=I.get(S);V!==void 0&&(I.delete(S),V!==ne&&Z(S,V))})):I.set(S,O)},G=new Set,te=new Map,oe=function(W,O,x,Z=!1){if(typeof x=="number"&&typeof O=="string"&&W instanceof pe){const F=x;x=`${F}`,x.length>5&&(x=F<10&&F>-10?Ve(F,3):Ve(F,1))}if(typeof O=="string"&&typeof x=="string"&&W instanceof pe){let F=null;if(O==="transform"){ee(W,x,Y,D,Z);return}else if(F=H[O]){const S=O;ee(W,x,F,(I,C)=>{const V=I.style,J=V[S];!J&&!C||J!==C&&(V[S]=C)},Z);return}else if(O==="outline-width"){const S="outlineWidth";F=H[S],ee(W,x,F,(I,C)=>{const V=I.style,J=V[S];!J&&!C||J!==C&&(V[S]=C)},Z);return}else if(O==="maxWidth"||O==="maxHeight"){const S=O,I=W.style,C=I[S];if(!C&&!x||C===x)return;I[S]=x;return}else G.has(O)||(G.add(O),ke(()=>{!W.classList.contains("caption-window")&&!W.classList.contains("ytp-caption-segment")&&console.log(27304,W,O,x)}));b.call(this,W,O,x);return}else if(typeof(O||0)=="object"){const F=(W.id||0).length>14;for(const[S,I]of Object.entries(O))oe.call(this,W,S,I,F)}else{if(typeof O=="string"){let F=te.get(O);F||(F=[],console.log("attrUpdateFn.debug.27304",F),te.set(O,F)),F.push([W,O,x])}else console.log("attrUpdateFn.debug.27306",W,O,x);b.call(this,W,O,x);return}};E[k]=oe}}{const R=dn?Ho(A):null;if(R){k=R;const D=E[k].prototype,Y=new Map;typeof D.updateValue=="function"&&D.updateValue.length===2&&!D.updateValue31&&(D.updateValue31=D.updateValue,D.updateValue=function(H,ne){if(typeof H!="string")return this.updateValue31(H,ne);const ee=this.element;if(!(ee instanceof pe))return this.updateValue31(H,ne);let G=Y.get(H);G||Y.set(H,G=new le);let te=G.get(ee);if(!(te&&te.value===ne))return te?(this.__oldValueByUpdateValue__=te.value,te.value=ne):(this.__oldValueByUpdateValue__=null,G.set(ee,te={value:ne})),this.updateValue31(H,ne)})}}})(),St&&!Oe&&(async()=>{const m=await w.obtain();if(!m||typeof m!="object")return;let A=Bo(m);if(!A)return;const R=m[A];if(typeof R!="function")return;const b=R.prototype,Y=(()=>{let x="";try{b.stop.call(new Proxy({isActive:()=>{}},{set(z,se,re){return re===0&&(x=se),!0}}))}catch{}if(!x)return;const Z=x;let F="",S="";try{b.start.call(new Proxy({stop:()=>{},[Z]:0},{get(z,se){if(se in z)return z[se];if(F)S||(S=se);else return F=se,null}}))}catch(z){(!F||!S)&&console.log(z)}if(!F||!S)return;let I="",C="",V="",J="";const K=new Set;for(const[z,se]of Object.entries(b))if(!(z==="stop"||z==="start"||z==="isActive"||z==="constructor"||z===Z||z===F||z===S)&&typeof se=="function"){const re=/this\.(\w+)\.call\(this\.(\w+)\)/.exec(se+"");re?(I=z,C=re[1],V=re[2]):K.add(z)}if(!(!I||!C||!V)){for(const z of K){if(z===I||z===C||z===V)continue;const se=b[z];typeof se=="function"&&(se+"").includes(`this.stop();delete this.${C};delete this.${V}`)&&(J=z)}return[Z,F,S,I,C,V,J]}})();if(!Y||!Y.length)return;const[H,ne,ee,G,te,oe,W]=Y;if(!H||!ne||!ee||!G||!te||!oe||!W)return;let O=null;b[W]=function(){O||(O=Object.getOwnPropertyNames(this).filter(x=>{if(x!=H&&x!=ne&&x!=ee&&x!=G&&x!=te&&x!=oe&&x!=W){const Z=typeof this[x];return Z==="undefined"||Z==="object"}return!1}));for(const x of O){const Z=this[x];(Z||0).length>=1&&(Z.length=0)}this[H]>0&&this.stop(),this[te]=null,this[oe]=null},b.start=function(x){this[H]>0&&this.stop();const Z=x!==void 0?x:this[ee];this[H]=window.setTimeout(this[ne],Z)},b.stop=function(){this[H]>0&&(window.clearTimeout(this[H]),this[H]=0)},b.isActive=function(){return this[H]>0},b[G]=function(){this.stop();const x=this[te],Z=this[oe];let F=!1;if(!x)F=!0;else if(Hn&&Z){let S;((S=Z[ne])instanceof Map||(S=Z[te])instanceof Map)&&S.has("bufferhealth")&&(F=!0)}F||x.call(Z)}})(),gn&&(async()=>{const[m,A]=await U.all([X.obtain(),ue.obtain()]);if(!m||!A)return;const E=D=>{const Y=(D||0)._animations||0,H=Y[0];H&&H&&!H.id&&H._isGroup===!1&&H._holdTime===0&&H._paused===!1&&!H._callback&&Number.isNaN(H._sequenceNumber)&&H.effect.target instanceof HTMLCanvasElement&&Y.shift()},k=A.prototype,b=(D=>{try{return D.__proto__}catch{}return null})(m);if(b&&typeof b.getAnimations=="function"&&typeof b.play=="function"&&typeof b._discardAnimations=="function"&&typeof b._play=="function"&&typeof b._updateAnimationsPromises=="function"&&!b.nofCQ&&typeof k._updatePromises=="function"&&!k.nofYH){b.nofCQ=1,k.nofYH=1;const D=(O=>{const x=Array.prototype.filter;let Z=null;return Array.prototype.filter=function(){return Z=this,this},O.call({}),Array.prototype.filter=x,Z&&typeof Z.length=="number"?Z:null})(b._updateAnimationsPromises);if(!D||typeof D.length!="number")return;k._updatePromises31=k._updatePromises,k._updatePromises=function(){var O=this._oldPlayState,x=this.playState;return x!==O&&(this._oldPlayState=x,this._readyPromise&&(x=="idle"?(this._rejectReadyPromise(),this._readyPromise=void 0):O=="pending"?this._resolveReadyPromise():x=="pending"&&(this._readyPromise=void 0)),this._finishedPromise&&(x=="idle"?(this._rejectFinishedPromise(),this._finishedPromise=void 0):x=="finished"?this._resolveFinishedPromise():O=="finished"&&(this._finishedPromise=void 0))),this._readyPromise||this._finishedPromise};let Y=!1;const H=()=>{const O=Z=>{var F=m;F.currentTime=Z,F._discardAnimations(),Ct&&E(F),F._animations.length==0?Y=!1:c().then(O)};return{restartWebAnimationsNextTick:()=>{Y||(Y=!0,c().then(O))}}},ne=()=>{const O=document.createElement("a-f");if(O.id="a-f",!document.getElementById("afscript")){const F=document.createElement("style");F.id="afscript",F.textContent=`
              @keyFrames aF1 {
                0% {
                  order: 0;
                }
                100% {
                  order: 1;
                }
              }
              #a-f[id] {
                visibility: collapse !important;
                position: fixed !important;
                display: block !important;
                top: -100px !important;
                left: -100px !important;
                margin:0 !important;
                padding:0 !important;
                outline:0 !important;
                border:0 !important;
                z-index:-1 !important;
                width: 0px !important;
                height: 0px !important;
                contain: strict !important;
                pointer-events: none !important;
                animation: 1ms steps(2, jump-none) 0ms infinite alternate forwards running aF1 !important;
              }
            `,(document.head||document.documentElement).appendChild(F)}document.documentElement.insertBefore(O,document.documentElement.firstChild);const x=function(F){const S=F.timeStamp;var I=m;I.currentTime=S,I._discardAnimations(),Ct&&E(I),I._animations.length==0?(Y=!1,O.onanimationiteration=null):O.onanimationiteration=x};return{restartWebAnimationsNextTick:()=>{Y||(Y=!0,O.onanimationiteration=x)}}},{restartWebAnimationsNextTick:ee}="onanimationiteration"in document.documentElement?ne():H();b._play=function(O){return O=new A(O,this),this._animations.push(O),ee(),O._updatePromises(),O._animation.play(),O._updatePromises(),O};const G=new Set(D);D.length=0,D.push=null,D.splice=null,D.slice=null,D.indexOf=null,D.unshift=null,D.shift=null,D.pop=null,D.filter=null,D.forEach=null,D.map=null;const te=()=>{G.forEach(O=>{O._updatePromises()||G.delete(O)})};b._updateAnimationsPromises31=b._updateAnimationsPromises,b._updateAnimationsPromises=te,delete b._updateAnimationsPromises,Object.defineProperty(b,"_updateAnimationsPromises",{get(){return G.size===0?qo:te},set(O){delete this._updateAnimationsPromises,this._updateAnimationsPromises=O},enumerable:!0,configurable:!0});let oe=Object.getOwnPropertyDescriptor(k,"finished");k.__finished_native_get__=oe.get,typeof oe.get=="function"&&!oe.set&&oe.configurable===!0&&oe.enumerable===!0&&Object.defineProperty(k,"finished",{get(){return this._finishedPromise||(!G.has(this)&&G.add(this),this._finishedPromise=new U((O,x)=>{this._resolveFinishedPromise=function(){O(this)},this._rejectFinishedPromise=function(){x({type:DOMException.ABORT_ERR,name:"AbortError"})}}),this.playState=="finished"&&this._resolveFinishedPromise()),this._finishedPromise},set:void 0,enumerable:!0,configurable:!0});let W=Object.getOwnPropertyDescriptor(k,"ready");if(k.__ready_native_get__=W.get,typeof W.get=="function"&&!W.set&&W.configurable===!0&&W.enumerable===!0&&Object.defineProperty(k,"ready",{get(){return this._readyPromise||(!G.has(this)&&G.add(this),this._readyPromise=new U((O,x)=>{this._resolveReadyPromise=function(){O(this)},this._rejectReadyPromise=function(){x({type:DOMException.ABORT_ERR,name:"AbortError"})}}),this.playState!=="pending"&&this._resolveReadyPromise()),this._readyPromise},set:void 0,enumerable:!0,configurable:!0}),In&&typeof k._rebuildUnderlyingAnimation=="function"&&!k._rebuildUnderlyingAnimation21&&k._rebuildUnderlyingAnimation.length===0){k._rebuildUnderlyingAnimation21=k._rebuildUnderlyingAnimation;const O=function(){return this.effect&&this.effect._onsample&&(this.effect._onsample=null),this._rebuildUnderlyingAnimation21()};k._rebuildUnderlyingAnimation=O}}})(),!u&&U.resolve().then(()=>{class m extends Set{constructor(S){super(),this.limit=S}add(S){if(!super.has(S)){super.add(S);let I=super.size-this.limit;if(I>0){const C=super.values();do{const V=C.next().value;super.delete(V)}while(--I>0)}}}removeAdd(S){super.delete(S),this.add(S)}}const A=new m(8),E=new m(8);let k="",R=0,b="",D="",Y=0,H=0,ne="",ee="",G="",te="";async function oe(F){const S=new TextEncoder().encode(F),I=await crypto.subtle.digest("SHA-1",S);return Array.from(new Uint8Array(I)).map(J=>J.toString(16).padStart(2,"0")).join("")}async function W(F,...S){let I=F;try{bo&&(I=await oe(F));let C=S.map(V=>V===F?I:V);console.log(...C)}catch(C){console.warn(C)}}function O(F){if(A.length>0){for(const[S,I]of A)E.removeAdd(S);F&&A.clear()}}function x(F){const S=F.constructor.prototype;S&&typeof S.addJob=="function"&&S.addJob.length===3&&typeof S.cancelJob=="function"&&S.cancelJob.length===1&&(S.addJob714||(S.addJob714=S.addJob,S.addJob=function(I,C,V){const J=this.addJob714(I,C,V);return J>0&&(this.__lastJobId863__=J),J}),S.cancelJob714||(S.cancelJob714=S.cancelJob,S.cancelJob=function(I){return this.cancelJob714(I)}))}const Z=Et&&pt&&No&&!Oe;if(Z&&Ae("ytd-video-primary-info-renderer").then(()=>{let F,S;if(F=document.createElement("ytd-video-primary-info-renderer"),F instanceof Element){if(S=fe(F).constructor.prototype,S.__getEmittorTaskMgr859__=function(){let I=null;try{I=(this.ytTaskEmitterBehavior||0).getTaskManager()||null}catch{}return I},typeof S.fetchUpdatedMetadata=="function"&&S.fetchUpdatedMetadata.length===1&&!S.fetchUpdatedMetadata717){S.fetchUpdatedMetadata717=S.fetchUpdatedMetadata;let I;S.fetchUpdatedMetadata718=function(C){let V=!1;if(C&&typeof C=="string"&&b&&b===ne&&C===ne&&(!ge||ge!==ee)?!ge&&Le.videoId===ee&&(V=!0):(typeof C!="string"||H>3||!ne||ne===C&&ne!==D||D&&D!==C)&&(V=!0),Y&&(o(Y),Y=0),V)return this.fetchUpdatedMetadata717(C);let J=D===C?8e3:800;Y=n(()=>{this.fetchUpdatedMetadata717(C)},J),console.log("[yt-js-engine-tamer]","5190 delayed fetchUpdatedMetadata",J)},S.fetchUpdatedMetadata=function(C){if(!_t){I&&o(I),I=n(()=>{this.fetchUpdatedMetadata718(C)},300);return}try{if(H++,(arguments.length>1||!(C===void 0||typeof C=="string"&&C))&&console.warn("CAUTION: fetchUpdatedMetadata coding might have to be updated."),typeof C=="string"&&E.has(C)){console.log("[yt-js-engine-tamer]","5040 skip fetchUpdatedMetadata",C);return}if(!C&&(this.data||0).updatedMetadataEndpoint)b&&D!==b&&(D=b,Te&&W(D,"5150 Lock Key",D)),k="",R=0,O(!0);else if(typeof C=="string"){const V=Le.videoId;let J=!!ge;if(ne===C&&ee===V&&ee&&V&&(!ge||ge===V))J=!0;else if(ne===C&&ee!==ge){Te&&W(ne,"5060 mpUrl22 mismatched",ne,ee,ge||"(null)",V||"(null)");return}J&&(G=C,te=ge||V),A.has(C)||A.add(C)}return Te&&W(C,"5180 fetchUpdatedMetadata	",C,ge||"(null)",Le.videoId||"(null)"),this.fetchUpdatedMetadata718(C)}catch(V){console.log("Code Error in fetchUpdatedMetadata",V)}return this.fetchUpdatedMetadata717(C)}}if(typeof S.scheduleInitialUpdatedMetadataRequest=="function"&&S.scheduleInitialUpdatedMetadataRequest.length===0&&!S.scheduleInitialUpdatedMetadataRequest717){S.scheduleInitialUpdatedMetadataRequest717=S.scheduleInitialUpdatedMetadataRequest;let I=null;S.scheduleInitialUpdatedMetadataRequest=function(){try{arguments.length>0&&console.warn("CAUTION: scheduleInitialUpdatedMetadataRequest coding might have to be updated."),k="",R=0,Y&&(o(Y),Y=0),H=0,O(!0);const C=this.__getEmittorTaskMgr859__();if(Ot&&C&&!C.addJob714&&C.addJob&&C.cancelJob&&x(C),Ot&&C&&!C.addJob714&&console.log("[yt-js-engine-tamer]","scheduleInitialUpdatedMetadataRequest error 507"),C&&typeof C.addLowPriorityJob=="function"&&C.addLowPriorityJob.length===2&&typeof C.cancelJob=="function"&&C.cancelJob.length===1){let V;if(I){const z=I;I=null,console.log("cancelJob",z),C.cancelJob(z)}let J=C.__lastJobId863__;try{V=this.scheduleInitialUpdatedMetadataRequest717()}catch{}let K=C.__lastJobId863__;return J!==K&&(I=K),V}else console.log("[yt-js-engine-tamer]","scheduleInitialUpdatedMetadataRequest error 601")}catch(C){console.log("Code Error in scheduleInitialUpdatedMetadataRequest",C)}return this.scheduleInitialUpdatedMetadataRequest717()}}}}),Z&&ht.then(F=>{let S,I;if(S=F,!(S instanceof Element))return;if(I=fe(S).constructor.prototype,typeof I.sendServiceAjax_=="function"&&I.sendServiceAjax_.length===4&&!I.sendServiceAjax717_){let J=function(K,z,se){let re=(K||0).is,he=((z||0).updatedMetadataEndpoint||0).videoId,we=(se||0).continuation;return typeof re!="string"&&(re=null),typeof he!="string"&&(he=null),typeof we!="string"&&(we=null),{is:re,videoId:he,continuation:we}};var V=J;I.sendServiceAjax717_=I.sendServiceAjax_,I.sendServiceAjax_=function(K,z,se,re){try{const{is:he,videoId:we,continuation:ce}=J(K,z,se);if((we||ce)&&he!=="ytd-video-primary-info-renderer"&&console.warn("CAUTION: sendServiceAjax_ coding might have to be updated."),ge&&we&&ce&&G&&te&&G===ce&&te!==ge){E.removeAdd(ce),A.delete(ce);return}if(D&&D!==ce&&ce&&(O(!1),E.delete(ce),A.removeAdd(ce),E.removeAdd(D),A.delete(D),D=""),E&&ce&&E.has(ce)){Te&&W(ce,"5260 matched01",ce);return}he==="ytd-video-primary-info-renderer"&&we&&ce&&!A.has(ce)&&A.add(ce)}catch(he){console.log("Coding Error in sendServiceAjax_",he)}return this.sendServiceAjax717_(K,z,se,re)}}function C(J){J===k&&(J!==G||J!==ne||E.size&&(E.size>1&&Te&&W(J,"delayClearOtherKeys, current = ",J),E.forEach((K,z)=>{z!==J&&(E.delete(z),Te&&W(z,"previous continuation removed from ignored store",z))})))}typeof I.getCancellableNetworkPromise_=="function"&&I.getCancellableNetworkPromise_.length===5&&!I.getCancellableNetworkPromise717_&&(I.getCancellableNetworkPromise717_=I.getCancellableNetworkPromise_,I.getCancellableNetworkPromise_=function(J,K,z,se,re){try{const{is:he,videoId:we,continuation:ce}=V(K,z,se);if((we||ce)&&he!=="ytd-video-primary-info-renderer"&&console.warn("CAUTION: getCancellableNetworkPromise_ coding might have to be updated."),ge&&we&&ce&&G&&te&&G===ce&&te!==ge){E.removeAdd(ce),A.delete(ce);return}D&&D!==ce&&ce&&(O(!1),E.delete(ce),A.removeAdd(ce),E.removeAdd(D),A.delete(D),D="");const me=ce;if(E&&me&&typeof me=="string"&&E.has(me)){Te&&W(me,"5360 matched02",me);return}typeof me=="string"&&k!==me?(k=me,Te&&W(me,"5382 Continuation sets to	",me,`C${R}.R${A.size}.I${E.size}`),b=me,D===me&&(D=""),R=0):typeof me=="string"&&k&&k===me&&(++R>1e9&&(R=1e4),Te&&W(me,"5386 Same Continuation		",me,`C${R}.R${A.size}.I${E.size}`),R>=3&&E.size>0&&U.resolve(me).then(C).catch(console.warn),R===5&&(A.clear(),A.add(me))),typeof me=="string"&&me&&(ge||Le.videoId)&&(ne=me,ee=ge||Le.videoId),Y&&(o(Y),Y=0)}catch(he){console.log("Coding Error in getCancellableNetworkPromise_",he)}return this.getCancellableNetworkPromise717_(J,K,z,se,re)})}),kn&&!Oe&&Ae("ytd-expander").then(()=>{let F,S;F=document.createElement("ytd-expander"),S=fe(F).constructor.prototype,dt(S.initChildrenObserver,"0.48.21")&&dt(S.childrenChanged,"0.40.22")&&(S.initChildrenObserver14=S.initChildrenObserver,S.childrenChanged14=S.childrenChanged,S.initChildrenObserver=function(){var I=this;this.observer=new MutationObserver(function(){I.childrenChanged()}),this.observer.observe(this.content,{subtree:!0,childList:!0,attributes:!0,characterData:!0}),this.childrenChanged()},S.childrenChanged=function(){this.alwaysToggleable?this.canToggle=this.alwaysToggleable:this.canToggleJobId||(this.canToggleJobId=1,_().then(()=>{this.canToggleJobId=0,this.calculateCanCollapse()}))},console.debug("ytd-expander-fix-childrenChanged"))}),An&&Ae("paper-ripple").then(()=>{let F,S;F=document.createElement("paper-ripple"),S=fe(F).constructor.prototype,dt(S.animate,"0.74.5")&&(S.animate34=S.animate,S.animate=function(){if(this._animating){var I;const V=this.ripples;for(I=0;I<V.length;++I){var C=V[I];C.draw(),this.$.background.style.opacity=C.outerOpacity,C.isOpacityFullyDecayed&&!C.isRestingAtMaxRadius&&this.removeRipple(C)}(this.shouldKeepAnimating||0)!==V.length?(this._boundAnimate38||(this._boundAnimate38=this.animate.bind(this)),_().then(this._boundAnimate38)):this.onAnimationComplete()}},console.debug("FIX_paper_ripple_animate"))}),Tn){const F=function(V,J){if(F.m511===1&&!J)F.m511=2,F.m568=V;else return n.apply(window,arguments)},S=function(V){const J=`${V}`;if(J.startsWith("function(){setTimeout(function(){")&&J.endsWith("})}")){let K=null;F.m511=1,V(),F.m511===2&&(K=F.m568,F.m568=null),F.m511=0,typeof K=="function"&&_().then(K)}else if(J.includes("requestAninmationFrameResolver"))_().then(V);else return r.apply(window,arguments)};let I=!1;const C=function(){if(!this)return;if(I)return this.doIdomRender13(...arguments);I=!0;const{requestAnimationFrame:V,setTimeout:J}=window;window.requestAnimationFrame=S,window.setTimeout=F;let K=this.doIdomRender13(...arguments);return window.requestAnimationFrame=V,window.setTimeout=J,I=!1,K};for(const V of["ytd-lottie-player","yt-attributed-string","yt-image","yt-icon-shape","yt-button-shape","yt-button-view-model","yt-icon-badge-shape"])Ae(V).then(()=>{let J,K;J=document.createElement(V),K=fe(J).constructor.prototype,K.doIdomRender13=K.doIdomRender,K.doIdomRender=C,K.doIdomRender13===K.templatingFn&&(K.templatingFn=C),console.debug("[yt-js-engine-tamer] FIX_doIdomRender",V)})}Qn&&Ae("ytd-popup-container").then(async()=>{const F=new Map,S="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),I=function(){for(var K=Array(36),z=0,se,re=0;re<36;re++)re==8||re==13||re==18||re==23?K[re]="-":re==14?K[re]="4":(z<=2&&(z=33554432+Math.random()*16777216|0),se=z&15,z>>=4,K[re]=S[re==19?se&3|8:se]);return K.join("")},C=document.getElementsByTagName("ytd-popup-container"),V=await Se(()=>C[0]).obtain();let J;if(J=fe(V).constructor.prototype,!J||typeof J.handleOpenPopupAction!="function"||J.handleOpenPopupAction3868||J.handleOpenPopupAction.length!==2){console.log("FIX_POPUP_UNIQUE_ID NG");return}J.handleOpenPopupAction3868=J.handleOpenPopupAction,J.handleOpenPopupAction=function(K,z){if(typeof(K||0)=="object"&&!K.__jOdQA__){K.__jOdQA__=!0;try{const se=this.hostElement;if(se instanceof pe){const re=se.__skme44__=se.__skme44__||new Map;let he="";const we=Je(K),ce=we?K[we]:null;if(we&&ce&&typeof(ce.popup||0)=="object"){const me=Je(ce.popup),Re=me?ce.popup[me]:null;let mt="",gt="";if(Re&&Re.identifier&&Re.content&&Re.header&&(mt=Je(Re.content),gt=Je(Re.header)),mt&&gt&&(he=`${we}(popupType:${ce.popupType},popup(${me}(content(${mt}:...),header(${gt}:...),identifer(surface:${Re.identifier.surface}))))`,he)){if(!ce.uniqueId)for(let hn=0;hn<8&&(ce.uniqueId=I(),!!F.has(ce.uniqueId));hn++);const Qe=ce.uniqueId;let bt=re.get(he);bt||re.set(he,bt=Qe),ce.uniqueId=bt||ce.uniqueId;const Pe=ce.uniqueId;F.set(Qe,Pe),F.set(Pe,Pe),ce.uniqueId=Pe,Re.targetId=Pe,Re.identifier.tag=Pe,Qe!==Pe&&console.log("FIX_POPUP_UNIQUE_ID",Qe,Pe)}}}}catch(se){console.warn(se)}try{const se=Ro(K,re=>!!(typeof re=="string"&&re.length===36&&/[a-zA-Z\d]{8}-[a-zA-Z\d]{4}-[a-zA-Z\d]{4}-[a-zA-Z\d]{4}-[a-zA-Z\d]{12}/.test(re)));for(const[re,he]of se){const we=re[he],ce=F.get(we);ce&&(re[he]=ce)}}catch(se){console.warn(se)}}return this.handleOpenPopupAction3868(...arguments)},console.log("FIX_POPUP_UNIQUE_ID OK")}),At&&!Oe&&Ae("yt-formatted-string").then(async()=>{let F,S;if(F=document.createElement("yt-formatted-string"),S=fe(F).constructor.prototype,!S||typeof S.setNodeStyle_!="function"||S.setNodeStyle17_||S.setNodeStyle_.length!==2){console.log("FIX_TRANSCRIPT_SEGMENTS(2) NG");return}S.setNodeStyle17_=S.setNodeStyle_,S.setNodeStyle_=function(I,C){return C instanceof pe&&typeof(I||0)=="object"&&C.classList.toggle("yt-formatted-string-block-line",!!I.blockLine),this.setNodeStyle17_(I,C)},console.log("FIX_TRANSCRIPT_SEGMENTS(2) OK")})})}),_n){if(console.groupCollapsed("%cYouTube JS Engine Tamer","background-color: #EDE43B ; color: #000 ; font-weight: bold ; padding: 4px ;"),console.log("Script is loaded."),console.log("This script changes the core mechanisms of the YouTube JS engine."),console.log("This script is experimental and subject to further changes."),console.log("This might boost your YouTube performance."),console.log("CAUTION: This might break your YouTube."),Ge.length>=1){console.log(" =========================================================================== ");for(const e of Ge)console.log(e);console.log(" =========================================================================== ")}console.groupEnd()}})();
